import{u as _,r as u,j as e,H as v,L as x}from"./app-DKzJqvPg.js";import{B as b}from"./BendaharaLayout-DE1Qpor3.js";import{I as o}from"./InputLabel-B7YG9MXE.js";import{T as d}from"./TextInput-DssbnquE.js";import{P as y}from"./PrimaryButton-1n-OJa10.js";import{I as i}from"./InputError-BZkMUzpk.js";/* empty css            */import"./ApplicationLogo-DAbpYrt-.js";function I({customers:l,concreteGrades:g,selectedCustomerId:h}){const{data:a,setData:r,post:p,processing:c,errors:t}=_({customer_id:h||"",name:"",code:"",sub_contractor:"",location:"",contact_person:"",work_type:"Cor",default_concrete_grade_id:""}),[n,m]=u.useState(!1);u.useEffect(()=>{if(n&&a.customer_id){const s=l.find(j=>j.id===parseInt(a.customer_id));s&&r("name",s.name)}},[n,a.customer_id]);const f=s=>{s.preventDefault(),p(route("delivery.projects.store"))};return e.jsxs(b,{children:[e.jsx(v,{title:"Buat Proyek Pengiriman Baru"}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(x,{href:a.customer_id?route("delivery.customers.show",a.customer_id):route("delivery.projects.index"),className:"text-sm text-indigo-600 hover:text-indigo-900 flex items-center gap-1 mb-2 font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali"]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Buat Proyek Baru"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Daftarkan proyek baru untuk pengiriman beton"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6 bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"customer_id",value:"Pilih Customer"}),e.jsxs("select",{id:"customer_id",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:a.customer_id,onChange:s=>r("customer_id",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Customer --"}),l.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(i,{message:t.customer_id,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",value:"Nama Proyek"}),e.jsxs("div",{className:"mt-1 flex flex-col gap-2",children:[e.jsx(d,{id:"name",type:"text",className:"w-full",value:a.name,onChange:s=>{r("name",s.target.value),m(!1)},placeholder:"Contoh: Pembangunan Ruko ABC",required:!0,disabled:n&&a.customer_id!==""}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500",checked:n,onChange:s=>m(s.target.checked),disabled:!a.customer_id}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Gunakan Nama Customer"})]})]}),e.jsx(i,{message:t.name,className:"mt-1"})]})]}),e.jsxs("div",{className:"border-t border-gray-50 pt-4 mt-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Informasi Teknis & Lokasi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"sub_contractor",value:"Penerima / Sub-Contractor"}),e.jsx(d,{id:"sub_contractor",type:"text",className:"w-full mt-1",value:a.sub_contractor,onChange:s=>r("sub_contractor",s.target.value),placeholder:"Nama Sub-Con (Opsional)"}),e.jsx(i,{message:t.sub_contractor,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"contact_person",value:"Kontak Lapangan / PIC"}),e.jsx(d,{id:"contact_person",type:"text",className:"w-full mt-1",value:a.contact_person,onChange:s=>r("contact_person",s.target.value),placeholder:"Nama & No. HP Lapangan"}),e.jsx(i,{message:t.contact_person,className:"mt-1"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx(o,{htmlFor:"location",value:"Alamat Proyek / Lokasi Cor"}),e.jsx("textarea",{id:"location",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:a.location,onChange:s=>r("location",s.target.value),placeholder:"Alamat lengkap proyek",rows:"3"}),e.jsx(i,{message:t.location,className:"mt-1"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"work_type",value:"Jenis Pekerjaan"}),e.jsx(d,{id:"work_type",type:"text",className:"w-full mt-1",value:a.work_type,onChange:s=>r("work_type",s.target.value),placeholder:"Contoh: Cor, Rigid, Sloof, dll"}),e.jsx(i,{message:t.work_type,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"default_concrete_grade_id",value:"Default Mutu Beton"}),e.jsxs("select",{id:"default_concrete_grade_id",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:a.default_concrete_grade_id,onChange:s=>r("default_concrete_grade_id",s.target.value),children:[e.jsx("option",{value:"",children:"-- Pilih Mutu --"}),g.map(s=>e.jsx("option",{value:s.id,children:s.code},s.id))]}),e.jsx(i,{message:t.default_concrete_grade_id,className:"mt-1"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[e.jsx(x,{href:route("delivery.projects.index"),className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Batal"}),e.jsx(y,{disabled:c,children:c?"Menyimpan...":"Buat Proyek"})]})]})]})]})}export{I as default};
