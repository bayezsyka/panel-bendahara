import{r as m,u as N,j as e,H as v}from"./app-CiO2VQnx.js";import{B as w,S}from"./BendaharaLayout-BmOFVfY5.js";import{P as C}from"./PageHeader-BHvmSiwz.js";import{M as E}from"./Modal-DNNIChmb.js";import{I as P}from"./InputLabel-BcUhDq7e.js";import{T}from"./TextInput-Co6_gCoM.js";import{I as D}from"./InputError-CssPRlhI.js";import{P as x}from"./PrimaryButton-DU1wUM7k.js";import{S as I}from"./SecondaryButton-ygnHJiWj.js";/* empty css            */import"./ApplicationLogo-DCX0GPCz.js";import"./transition-DgWT-zWI.js";import"./with-selector-Bmb2Ajv7.js";function G({benderas:n}){const[u,t]=m.useState(!1),[s,i]=m.useState(!1),{data:o,setData:d,post:p,put:h,delete:f,processing:l,errors:g,reset:r,clearErrors:c}=N({id:"",name:"",code:""}),j=()=>{i(!1),r(),c(),t(!0)},y=a=>{i(!0),d({id:a.id,name:a.name,code:a.code||""}),c(),t(!0)},b=a=>{a.preventDefault(),s?h(route("projectexpense.benderas.update",o.id),{onSuccess:()=>{t(!1),r()}}):p(route("projectexpense.benderas.store"),{onSuccess:()=>{t(!1),r()}})},k=a=>{S.fire({title:"Hapus Bendera?",text:"Data bendera ini akan dihapus permanen. Pastikan tidak ada proyek yang menggunakan bendera ini (validasi sistem mungkin akan menolak jika ada).",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(B=>{B.isConfirmed&&f(route("projectexpense.benderas.destroy",a))})};return e.jsxs(w,{children:[e.jsx(v,{title:"Kelola Bendera"}),e.jsx(C,{title:"Data Bendera",backLink:route("projectexpense.overview"),backLabel:"Dashboard",actions:e.jsx(x,{onClick:j,children:"+ Tambah Bendera"})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Bendera (PT/CV)"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length>0?n.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.name}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>y(a),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>k(a.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"2",className:"px-6 py-12 text-center text-gray-500",children:"Belum ada data bendera."})})})]})})}),e.jsx(E,{show:u,onClose:()=>t(!1),children:e.jsxs("form",{onSubmit:b,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:s?"Edit Data Bendera":"Tambah Bendera Baru"}),e.jsxs("div",{className:"mb-6",children:[e.jsx(P,{value:"Nama Bendera / Perusahaan"}),e.jsx(T,{value:o.name,onChange:a=>d("name",a.target.value),className:"mt-1 block w-full",placeholder:"Contoh: PT. Jasa Konstruksi Karya atau JKK Langsung",required:!0}),e.jsx(D,{message:g.name,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(I,{onClick:()=>t(!1),children:"Batal"}),e.jsx(x,{disabled:l,children:l?"Menyimpan...":s?"Simpan Perubahan":"Simpan"})]})]})})]})}export{G as default};
