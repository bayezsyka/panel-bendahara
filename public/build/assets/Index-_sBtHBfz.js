import{r as c,u as N,j as e,H as C}from"./app-1GuRuwXM.js";import{B as S,S as w}from"./BendaharaLayout-azH27Bhb.js";import{P as L}from"./PageHeader-Lgi7j_5r.js";import{M}from"./Modal-BxR1ZytI.js";import{I as D}from"./InputLabel-DM71_Qhi.js";import{T as E}from"./TextInput-B1b_5vwn.js";import{I as T}from"./InputError-CStixvMr.js";import{P as m}from"./PrimaryButton-8e92Z_qi.js";import{S as H}from"./SecondaryButton-DfEV9W92.js";import{D as P}from"./DataTable-C9-oGE8D.js";/* empty css            */import"./ApplicationLogo-ji5Nsjxc.js";import"./transition-CrexFo9_.js";import"./use-sync-refs-j05iY-EP.js";import"./open-closed-JmYsaq0p.js";import"./keyboard-7ucfL_9T.js";import"./with-selector-DWV7iKPJ.js";import"./description-C1II6esh.js";import"./close-provider-DUthU0z7.js";function ee({benderas:u}){const[p,t]=c.useState(!1),[s,o]=c.useState(!1),{data:n,setData:i,post:x,put:h,delete:f,processing:l,errors:j,reset:r,clearErrors:d}=N({id:"",name:"",code:""}),b=()=>{o(!1),r(),d(),t(!0)},g=a=>{o(!0),i({id:a.id,name:a.name,code:a.code||""}),d(),t(!0)},B=a=>{a.preventDefault(),s?h(route("projectexpense.benderas.update",n.id),{onSuccess:()=>{t(!1),r()}}):x(route("projectexpense.benderas.store"),{onSuccess:()=>{t(!1),r()}})},k=a=>{w.fire({title:"Hapus Bendera?",text:"Data bendera ini akan dihapus permanen.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(y=>{y.isConfirmed&&f(route("projectexpense.benderas.destroy",a))})},v=[{key:"name",label:"Nama Bendera (PT/CV)",render:a=>e.jsx("span",{className:"font-medium text-gray-900",children:a.name})},{key:"actions",label:"Aksi",align:"right",render:a=>e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx("button",{onClick:()=>g(a),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Edit",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsx("button",{onClick:()=>k(a.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Hapus",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}];return e.jsxs(S,{children:[e.jsx(C,{title:"Kelola Bendera"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(L,{title:"Data Bendera",backLink:route("projectexpense.overview"),backLabel:"Dashboard",actions:e.jsx(m,{onClick:b,children:"+ Tambah Bendera"})}),e.jsx(P,{columns:v,data:u,emptyMessage:"Belum ada data bendera."})]}),e.jsx(M,{show:p,onClose:()=>t(!1),children:e.jsxs("form",{onSubmit:B,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:s?"Edit Data Bendera":"Tambah Bendera Baru"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(D,{value:"Nama Bendera / Perusahaan"}),e.jsx(E,{value:n.name,onChange:a=>i("name",a.target.value),className:"mt-1 block w-full",placeholder:"Contoh: PT. Jasa Konstruksi Karya",required:!0}),e.jsx(T,{message:j.name,className:"mt-2"})]})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(H,{onClick:()=>t(!1),children:"Batal"}),e.jsx(m,{disabled:l,children:l?"Menyimpan...":s?"Simpan Perubahan":"Simpan"})]})]})})]})}export{ee as default};
