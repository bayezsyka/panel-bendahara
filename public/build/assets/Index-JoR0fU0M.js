import{r as c,u as k,j as a,H as w}from"./app-CKq0HNDf.js";import{B as v,S}from"./BendaharaLayout-D_q0TrkE.js";import{P as C}from"./PageHeader-T6pPAPiX.js";import{M as T,S as E}from"./SecondaryButton-8DmdXZTv.js";import{I as M}from"./InputLabel-ClZp5owe.js";import{T as I}from"./TextInput-B8oXriBn.js";import{I as D}from"./InputError-BlvGCIOO.js";import{P as m}from"./PrimaryButton-ksM50-Nz.js";/* empty css            */import"./ApplicationLogo-CJ08v5V3.js";import"./transition-aaUEx5Z2.js";import"./with-selector-D-p9pW-s.js";function G({expenseTypes:r}){const[x,t]=c.useState(!1),[s,n]=c.useState(!1),{data:o,setData:d,post:u,put:h,delete:p,processing:f,errors:g,reset:i,clearErrors:l}=k({id:"",name:"",code:""}),b=()=>{n(!1),i(),l(),t(!0)},j=e=>{n(!0),d({id:e.id,name:e.name,code:e.code||""}),l(),t(!0)},y=e=>{e.preventDefault(),s?h(route("bendahara.expense-types.update",o.id),{onSuccess:()=>{t(!1),i()}}):u(route("bendahara.expense-types.store"),{onSuccess:()=>{t(!1),i()}})},B=e=>{S.fire({title:"Hapus Tipe Biaya?",text:"Data tipe biaya ini akan dihapus. Pastikan tidak sedang digunakan (sistem mungkin akan menolak jika ada relasi).",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(N=>{N.isConfirmed&&p(route("bendahara.expense-types.destroy",e))})};return a.jsxs(v,{children:[a.jsx(w,{title:"Kelola Tipe Biaya"}),a.jsx(C,{title:"Data Tipe Biaya",backLink:route("bendahara.dashboard"),backLabel:"Dashboard",actions:a.jsx(m,{onClick:b,children:"+ Tambah Tipe"})}),a.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl border border-gray-200",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Tipe Biaya"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(e=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>j(e),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),a.jsx("button",{onClick:()=>B(e.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},e.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"px-6 py-12 text-center text-gray-500",children:"Belum ada data tipe biaya."})})})]})})}),a.jsx(T,{show:x,onClose:()=>t(!1),children:a.jsxs("form",{onSubmit:y,className:"p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:s?"Edit Tipe Biaya":"Tambah Tipe Biaya Baru"}),a.jsxs("div",{className:"mb-6",children:[a.jsx(M,{value:"Nama Tipe Biaya"}),a.jsx(I,{value:o.name,onChange:e=>d("name",e.target.value),className:"mt-1 block w-full",placeholder:"Contoh: Material, BBM, Upah, Mobilisasi",required:!0}),a.jsx(D,{message:g.name,className:"mt-2"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(E,{onClick:()=>t(!1),children:"Batal"}),a.jsx(m,{disabled:f,children:s?"Simpan Perubahan":"Simpan"})]})]})})]})}export{G as default};
