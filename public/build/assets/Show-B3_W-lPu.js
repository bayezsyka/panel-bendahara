import{b as x,j as e,H as c,L as r,a as o}from"./app-DteqDP6z.js";import{B as m}from"./BendaharaLayout-Y4eYKbl_.js";/* empty css            */import"./ApplicationLogo-CFUqUAf-.js";function f({project:s}){const{auth:d}=x().props,{can_create:n,can_edit:l}=d.permissions||{},i=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t);return e.jsxs(m,{children:[e.jsx(c,{title:`Proyek: ${s.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[e.jsxs("div",{children:[e.jsxs(r,{href:route("delivery.customers.show",s.customer.slug),className:"text-sm text-indigo-600 hover:text-indigo-900 flex items-center gap-1 mb-2 font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Customer"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-700 text-xs font-bold uppercase rounded border border-blue-100",children:"Berjalan"})]}),e.jsxs("p",{className:"text-sm text-gray-500 font-medium mt-1",children:["Customer: ",e.jsx(r,{href:route("delivery.customers.show",s.customer.slug),className:"text-indigo-600 hover:underline",children:s.customer.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l&&e.jsx(r,{href:route("delivery.projects.edit",s.slug),className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 shadow-sm text-sm transition-colors",children:"Edit Proyek"}),e.jsxs(r,{href:route("delivery.pump-rentals.create",{project_id:s.id}),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 shadow-sm text-sm transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Sewa Pompa"]}),n&&e.jsxs(r,{href:route("delivery.shipments.create",{project_id:s.id}),className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 shadow-sm text-sm transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Buat Pengiriman"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm col-span-2",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Informasi Proyek"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Lokasi Proyek"}),e.jsx("p",{className:"text-sm text-gray-900 font-semibold mt-1",children:s.location||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Sub-Contractor / Penerima"}),e.jsx("p",{className:"text-sm text-gray-900 font-semibold mt-1",children:s.sub_contractor||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Kontak Lapangan / PIC"}),e.jsx("p",{className:"text-sm text-gray-900 font-semibold mt-1",children:s.contact_person||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Pekerjaan"}),e.jsx("p",{className:"text-sm text-gray-900 font-semibold mt-1",children:s.work_type||"-"})]})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Estimasi & Mutu"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Default Mutu Beton"}),e.jsx("p",{className:"text-sm text-gray-900 font-bold mt-1",children:s.default_concrete_grade?e.jsxs("span",{className:"flex items-center justify-between",children:[s.default_concrete_grade.code,e.jsx("span",{className:"text-gray-500 font-normal",children:i(s.default_concrete_grade.price)})]}):"-"})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-50",children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Total Ritase"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[s.shipments.length," ",e.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Pengiriman"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm relative group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Sewa Pompa"}),l&&e.jsx(r,{href:route("delivery.projects.edit",s.slug),className:"text-gray-300 hover:text-indigo-600 transition-colors opacity-0 group-hover:opacity-100",title:"Edit Pengaturan Pompa",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Harga Sewa"}),e.jsx("p",{className:"text-sm text-gray-900 font-bold mt-1",children:s.pump_rental_price?i(s.pump_rental_price):"-"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Limit Vol"}),e.jsx("p",{className:"text-sm text-gray-900 font-semibold mt-1",children:s.pump_limit_volume?s.pump_limit_volume+" m続":"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Limit Pipa"}),e.jsx("p",{className:"text-sm text-gray-900 font-semibold mt-1",children:s.pump_limit_pipe?s.pump_limit_pipe+" btg":"-"})]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-50",children:[e.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase",children:"Total Sewa"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-600 mt-1",children:[s.pump_rentals?s.pump_rentals.length:0," ",e.jsx("span",{className:"text-xs font-medium text-indigo-400",children:"Kali"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden min-h-[400px]",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Rekapitulasi Tiket"}),e.jsxs("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-[10px] font-black rounded-full uppercase tracking-tighter",children:[s.shipments.length," Pengiriman"]})]}),e.jsx("div",{className:"flex gap-2",children:s.shipments.length>0&&e.jsxs("a",{href:route("delivery.projects.export-recap-pdf",s.slug),target:"_blank",className:"text-xs bg-white border border-gray-200 px-3 py-2 rounded-lg font-bold text-gray-500 hover:bg-gray-50 transition-all flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Cetak Rekap (PDF)"]})})]}),s.shipments.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left whitespace-nowrap",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"No"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tanggal"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Docket Number"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Rit"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Mutu"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Slump"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Volume"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"No Polisi"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Supir"}),s.has_ppn&&e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Nilai (DPP)"}),e.jsxs("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:["Nilai ",s.has_ppn?"(+PPN)":""]}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:s.shipments.map((t,a)=>e.jsxs("tr",{className:"hover:bg-gray-50/70 transition-colors group",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-400 text-center",children:a+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:new Date(t.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}),e.jsx("td",{className:"px-4 py-3 text-sm font-bold text-gray-900 underline decoration-indigo-200 decoration-2 underline-offset-4",children:t.docket_number}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600 font-medium",children:["Rit ",t.rit_number]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-700 text-[10px] font-black uppercase rounded border border-indigo-100 italic",children:t.concrete_grade.code})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-500 font-medium italic",children:t.slump||"-"}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-black text-right",children:[t.volume," m続"]}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-600 font-bold uppercase",children:t.vehicle_number||"-"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:t.driver_name||"-"}),s.has_ppn&&e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 font-medium text-right tabular-nums",children:i(t.total_price)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-bold text-right tabular-nums",children:i(t.total_price_with_tax)}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("div",{className:"flex justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l&&e.jsx(r,{href:route("delivery.shipments.edit",t.id),className:"p-1 text-gray-400 hover:text-indigo-600 rounded-md transition-colors",title:"Edit",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsx(r,{href:route("delivery.shipments.show",t.id),className:"p-1 text-gray-400 hover:text-indigo-600 rounded-md transition-colors",title:"Detail",children:e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})})]},t.id))}),e.jsx("tfoot",{className:"bg-gray-50/80 font-black border-t-2 border-gray-100",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"6",className:"px-4 py-4 text-xs text-gray-400 uppercase tracking-widest text-right",children:"Total Rekapitulasi"}),e.jsxs("td",{className:"px-4 py-4 text-sm text-gray-900 text-right tabular-nums",children:[s.shipments.reduce((t,a)=>t+parseFloat(a.volume),0).toFixed(2)," m続"]}),e.jsx("td",{colSpan:"2"}),s.has_ppn&&e.jsx("td",{className:"px-4 py-4 text-sm text-gray-500 text-right tabular-nums",children:i(s.shipments.reduce((t,a)=>t+parseFloat(a.total_price),0))}),e.jsx("td",{className:"px-4 py-4 text-base text-indigo-700 text-right tabular-nums",children:i(s.shipments.reduce((t,a)=>t+parseFloat(a.total_price_with_tax),0))}),e.jsx("td",{})]})})]})}):e.jsxs("div",{className:"p-12 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Belum Ada Pengiriman"}),e.jsx("p",{className:"text-gray-500 mt-1 max-w-sm",children:"Siapkan pengiriman pertama untuk mulai mencatat pengiriman beton pada proyek ini."}),n&&e.jsx(r,{href:route("delivery.shipments.create",{project_id:s.id}),className:"mt-6 inline-flex items-center gap-2 px-6 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 shadow-lg shadow-indigo-100 transition-all active:scale-95",children:"+ Mulai Buat Pengiriman"})]})]}),s.pump_rentals&&s.pump_rentals.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mt-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Rekapitulasi Sewa Pompa"}),e.jsxs("span",{className:"px-2 py-0.5 bg-indigo-100 text-indigo-700 text-[10px] font-black rounded-full uppercase tracking-tighter",children:[s.pump_rentals.length," Sewa"]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left whitespace-nowrap",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"No"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Tanggal"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Ket."}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Vol Pump"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Pipa"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-right",children:"Total Biaya"}),e.jsx("th",{className:"px-4 py-4 text-[10px] font-black text-gray-400 uppercase tracking-widest text-center",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:s.pump_rentals.map((t,a)=>e.jsxs("tr",{className:"hover:bg-gray-50/70 transition-colors group",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-400 text-center",children:a+1}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:new Date(t.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600 font-medium",children:[t.vehicle_number&&e.jsx("span",{className:"block text-xs font-bold text-gray-500",children:t.vehicle_number}),t.driver_name||"-"]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium text-right font-mono",children:[parseFloat(t.volume_pumped)>parseFloat(t.limit_volume)?e.jsxs("span",{className:"text-red-600",title:`Over ${t.volume_pumped-t.limit_volume}`,children:[t.volume_pumped," (+",t.volume_pumped-t.limit_volume,")"]}):t.volume_pumped," m続"]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium text-right font-mono",children:[parseInt(t.pipes_used)>parseInt(t.limit_pipe)?e.jsxs("span",{className:"text-red-600",title:`Over ${t.pipes_used-t.limit_pipe}`,children:[t.pipes_used," (+",t.pipes_used-t.limit_pipe,")"]}):t.pipes_used," btg"]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-bold text-right tabular-nums",children:i(t.total_price)}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("div",{className:"flex justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:l&&e.jsxs(e.Fragment,{children:[e.jsx(r,{href:route("delivery.pump-rentals.edit",t.id),className:"p-1 text-gray-400 hover:text-indigo-600 rounded-md transition-colors",title:"Edit",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),e.jsx("button",{onClick:p=>{confirm("Hapus data sewa pompa ini?")&&o.delete(route("delivery.pump-rentals.destroy",t.id))},className:"p-1 text-gray-400 hover:text-red-600 rounded-md transition-colors",title:"Hapus",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})})]},t.id))}),e.jsx("tfoot",{className:"bg-gray-50/80 font-black border-t-2 border-gray-100",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"5",className:"px-4 py-4 text-xs text-gray-400 uppercase tracking-widest text-right",children:"Total Sewa"}),e.jsx("td",{className:"px-4 py-4 text-base text-indigo-700 text-right tabular-nums",children:i(s.pump_rentals.reduce((t,a)=>t+parseFloat(a.total_price),0))}),e.jsx("td",{})]})})]})})]})]})]})}export{f as default};
