import{b as O,r as i,u as _,j as e,H as A}from"./app-D6V8vIYn.js";import{B as P}from"./BendaharaLayout-C5VUUhMc.js";import{M as b}from"./Modal-BT2O9XkP.js";import{I as m}from"./InputLabel-CVEAz7YP.js";import{T as x}from"./TextInput-Btzgtb6h.js";import{P as N}from"./PrimaryButton-B7GABhJG.js";import{S as v}from"./SecondaryButton-CdOwP19X.js";import{D as q}from"./DangerButton-D21fAblA.js";import{I as u}from"./InputError-BeuEzbn1.js";/* empty css            */import"./ApplicationLogo-afP2qbmV.js";import"./transition-CFF9PCLz.js";import"./use-sync-refs-BjWRdL8M.js";import"./keyboard-IqfnioWc.js";import"./with-selector-CbBa7G_g.js";function se({concreteGrades:p}){const{auth:M}=O().props,{can_create:w,can_edit:k,can_delete:D}=M.permissions||{},[B,h]=i.useState(!1),[n,o]=i.useState(null),[C,a]=i.useState(!1),[j,f]=i.useState(null),{data:c,setData:r,post:S,put:I,delete:T,processing:s,errors:d,reset:y}=_({code:"",price:"",description:""}),g=(t=null)=>{t?(o(t),r({code:t.code,price:t.price,description:t.description||""})):(o(null),y()),h(!0)},l=()=>{h(!1),o(null),y()},H=t=>{t.preventDefault(),n?I(route("delivery.concrete-grades.update",n.id),{onSuccess:()=>l()}):S(route("delivery.concrete-grades.store"),{onSuccess:()=>l()})},K=t=>{f(t),a(!0)},E=()=>{j&&T(route("delivery.concrete-grades.destroy",j.id),{onSuccess:()=>{a(!1),f(null)}})},F=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t);return e.jsxs(P,{children:[e.jsx(A,{title:"Master Mutu Beton"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Mutu Beton"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Kelola daftar mutu beton dan harga default"})]}),w&&e.jsx(N,{onClick:()=>g(),children:"+ Tambah Mutu"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Kode Mutu"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Harga Default"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Keterangan"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider text-center",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:p.length>0?p.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:t.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-semibold",children:F(t.price)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:t.description||"-"}),e.jsx("td",{className:"px-6 py-4 text-center whitespace-nowrap",children:e.jsxs("div",{className:"flex justify-center",children:[k&&e.jsx("button",{onClick:()=>g(t),className:"text-indigo-600 hover:text-indigo-900 mx-2 text-sm font-medium",children:"Edit"}),D&&e.jsx("button",{onClick:()=>K(t),className:"text-red-600 hover:text-red-900 mx-2 text-sm font-medium",children:"Hapus"})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-500 italic",children:"Belum ada data mutu beton"})})})]})})]}),e.jsx(b,{show:B,onClose:l,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:n?"Edit Mutu Beton":"Tambah Mutu Beton"}),e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"code",value:"Kode Mutu"}),e.jsx(x,{id:"code",type:"text",className:"w-full mt-1",value:c.code,onChange:t=>r("code",t.target.value),placeholder:"Contoh: K-225, K-300",required:!0}),e.jsx(u,{message:d.code,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price",value:"Harga Default (Template)"}),e.jsx(x,{id:"price",type:"number",className:"w-full mt-1",value:c.price,onChange:t=>r("price",t.target.value),placeholder:"0",required:!0}),e.jsx(u,{message:d.price,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",value:"Keterangan"}),e.jsx(x,{id:"description",type:"text",className:"w-full mt-1",value:c.description,onChange:t=>r("description",t.target.value),placeholder:"Opsional"}),e.jsx(u,{message:d.description,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(v,{onClick:l,disabled:s,children:"Batal"}),e.jsx(N,{disabled:s,children:s?"Menyimpan...":"Simpan"})]})]})]})}),e.jsx(b,{show:C,onClose:()=>a(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"Hapus Mutu Beton?"}),e.jsx("p",{className:"text-gray-600 mb-6 font-medium",children:"Apakah Anda yakin ingin menghapus mutu beton ini? Tindakan ini tidak dapat dibatalkan."}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(v,{onClick:()=>a(!1),children:"Batal"}),e.jsx(q,{onClick:E,disabled:s,children:s?"Menghapus...":"Hapus"})]})]})})]})}export{se as default};
