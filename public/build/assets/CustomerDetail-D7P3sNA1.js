import{j as e,H as x,L as l}from"./app-DKzJqvPg.js";import{B as m}from"./BendaharaLayout-DE1Qpor3.js";import{P as h}from"./PageHeader-DIJlI78N.js";import{A as p}from"./arrow-left-D3CGrckR.js";import{B as u}from"./briefcase-DNm65STq.js";import{c as d}from"./createLucideIcon-CQ7JtDoJ.js";import{C as f}from"./chevron-right-DQIQdTCY.js";/* empty css            */import"./ApplicationLogo-DAbpYrt-.js";const b=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],N=d("chart-column",b);const g=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],j=d("map-pin",g);function T({customer:i,projects:a}){const s=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),n=a.reduce((t,r)=>t+r.total_bill,0),o=a.reduce((t,r)=>t+r.total_paid,0),c=a.reduce((t,r)=>t+r.remaining,0);return e.jsxs(m,{children:[e.jsx(x,{title:`Proyek ${i.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{href:route("receivable.index"),className:"inline-flex items-center text-sm font-medium text-slate-500 hover:text-slate-900 transition-colors",children:[e.jsx(p,{className:"mr-1 w-4 h-4"}),"Kembali ke Daftar Customer"]}),e.jsx(h,{title:i.name,subtitle:`Daftar proyek dan status penagihan untuk customer ${i.name}.`,icon:u}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Total Tagihan"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:s(n)})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Total Dibayar"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:s(o)})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Sisa Piutang"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:s(c)})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100",children:e.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center",children:[e.jsx(N,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Status Proyek"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Nama Proyek / Lokasi"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Tagihan"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Terbayar"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Sisa"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-center",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:a.length>0?a.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-bold text-slate-900",children:t.name}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center mt-0.5",children:[e.jsx(j,{className:"w-3 h-3 mr-1"}),t.location||"Lokasi tidak ditentukan"]})]}),e.jsx("td",{className:"px-6 py-4 text-right font-medium text-slate-900",children:s(t.total_bill)}),e.jsx("td",{className:"px-6 py-4 text-right font-medium text-emerald-600",children:s(t.total_paid)}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:`font-bold ${t.remaining>0?"text-red-600":"text-slate-900"}`,children:s(t.remaining)})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs(l,{href:route("receivable.project.show",t.id),className:"inline-flex items-center px-3 py-1.5 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:["Tinjau Transaksi",e.jsx(f,{className:"ml-1 w-4 h-4"})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-slate-500",children:"Belum ada proyek untuk customer ini."})})})]})})]})]})]})}export{T as default};
