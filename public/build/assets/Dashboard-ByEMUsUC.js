import{j as e,H as m,L as d}from"./app-DteqDP6z.js";import{c,B as h}from"./BendaharaLayout-Y4eYKbl_.js";import{P as u}from"./PageHeader-BwzuOZZU.js";import{T as p,U as b}from"./users-C0SKD-8b.js";import{B as g}from"./briefcase-4N6IIci5.js";import{b0 as f,b1 as j,b6 as v,b2 as y,b3 as N,b4 as w,b5 as k,_}from"./BarChart-Bz4LXgWY.js";import{C}from"./chevron-right-9K-O7ibI.js";/* empty css            */import"./ApplicationLogo-CFUqUAf-.js";import"./with-selector-hyrcWQ_n.js";const D=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],x=c("arrow-up-right",D);const L=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],P=c("layout-dashboard",L);const R=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],B=c("wallet",R);function z({stats:a,top_customers:l}){const s=t=>{const i=Number(t);return isNaN(i)?"Rp0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i)},o=l.map(t=>({name:t.name.split(" ").slice(0,2).join(" "),value:t.total_receivable})),r=["#4f46e5","#6366f1","#818cf8","#a5b4fc","#c7d2fe"];return e.jsxs(h,{children:[e.jsx(m,{title:"Dashboard Piutang"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[e.jsx(u,{title:"Dashboard Piutang",subtitle:"Ringkasan eksekutif piutang operasional dan status penagihan.",icon:P}),e.jsxs("button",{onClick:()=>window.open(route("receivable.export.pdf"),"_blank"),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-xl text-sm font-bold flex items-center transition-all shadow-sm",children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Export Laporan Piutang"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(n,{title:"Total Piutang",value:s(a.total_receivable),icon:B,color:"indigo"}),e.jsx(n,{title:"Bayar Bulan Ini",value:s(a.total_paid_month),icon:p,color:"emerald"}),e.jsx(n,{title:"Total Customer",value:a.customer_count,icon:b,color:"blue"}),e.jsx(n,{title:"Total Proyek",value:a.project_count,icon:g,color:"amber"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-bold text-slate-800",children:"Top 5 Piutang Customer"}),e.jsxs(d,{href:route("receivable.index"),className:"text-xs text-indigo-600 font-bold hover:underline flex items-center",children:["Lihat Semua ",e.jsx(x,{className:"ml-1 w-3 h-3"})]})]}),e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(f,{width:"100%",height:"100%",children:e.jsxs(j,{data:o,children:[e.jsx(v,{strokeDasharray:"3 3",vertical:!1,stroke:"currentColor",strokeOpacity:.06}),e.jsx(y,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12}}),e.jsx(N,{hide:!0}),e.jsx(w,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},formatter:t=>s(t)}),e.jsx(k,{dataKey:"value",radius:[6,6,0,0],children:o.map((t,i)=>e.jsx(_,{fill:r[i%r.length]},`cell-${i}`))})]})})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("h3",{className:"font-bold text-slate-800 mb-6",children:"Daftar Customer Teratas"}),e.jsx("div",{className:"space-y-4",children:l.map(t=>e.jsxs(d,{href:t.slug?route("receivable.customer.show",t.slug):"#",className:"flex items-center justify-between p-3 rounded-xl hover:bg-slate-50 transition-colors group",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:t.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[t.projects_count," Proyek"]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsx("p",{className:"text-sm font-bold text-red-600",children:s(t.total_receivable)}),e.jsxs("div",{className:"flex items-center justify-end text-xs text-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity",children:["Detail ",e.jsx(C,{className:"w-3 h-3"})]})]})]},t.id))})]})]})]})]})}function n({title:a,value:l,icon:s,color:o}){const r={indigo:"bg-indigo-50 text-indigo-600",emerald:"bg-emerald-50 text-emerald-600",blue:"bg-blue-50 text-blue-600",amber:"bg-amber-50 text-amber-600"};return e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center space-x-4",children:[e.jsx("div",{className:`p-4 rounded-xl ${r[o]||r.indigo}`,children:e.jsx(s,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:a}),e.jsx("p",{className:"text-xl font-black text-slate-900 mt-0.5",children:l})]})]})}export{z as default};
