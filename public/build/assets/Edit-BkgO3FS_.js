import{u as _,r as b,j as e,H as f,L as u}from"./app-DKzJqvPg.js";import{B as y}from"./BendaharaLayout-DE1Qpor3.js";import{I as i}from"./InputLabel-B7YG9MXE.js";import{T as o}from"./TextInput-DssbnquE.js";import{P as N}from"./PrimaryButton-1n-OJa10.js";import{I as d}from"./InputError-BZkMUzpk.js";/* empty css            */import"./ApplicationLogo-DAbpYrt-.js";function q({shipment:s,projects:x,concreteGrades:n}){const{data:a,setData:t,put:g,processing:m,errors:l}=_({delivery_project_id:s.delivery_project_id,date:s.date,docket_number:s.docket_number,rit_number:s.rit_number,concrete_grade_id:s.concrete_grade_id,slump:s.slump||"",volume:s.volume,vehicle_number:s.vehicle_number||"",driver_name:s.driver_name||"",price_per_m3:s.price_per_m3,total_price:s.total_price,notes:s.notes||""});b.useEffect(()=>{const r=parseFloat(a.volume||0)*parseFloat(a.price_per_m3||0);t("total_price",r)},[a.volume,a.price_per_m3]);const p=r=>{t("concrete_grade_id",r);const c=n.find(j=>j.id===parseInt(r));c&&t("price_per_m3",c.price)},v=r=>{r.preventDefault(),g(route("delivery.shipments.update",s.id))},h=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r);return e.jsxs(y,{children:[e.jsx(f,{title:"Edit Surat Jalan"}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(u,{href:route("delivery.projects.show",s.delivery_project_id),className:"text-sm text-indigo-600 hover:text-indigo-900 flex items-center gap-1 mb-2 font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Proyek"]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Surat Jalan"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sesuaikan data pengiriman"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"delivery_project_id",value:"Proyek"}),e.jsxs("select",{id:"delivery_project_id",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm bg-gray-50",value:a.delivery_project_id,onChange:r=>t("delivery_project_id",r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Proyek --"}),x.map(r=>e.jsxs("option",{value:r.id,children:[r.name," (",r.customer.name,")"]},r.id))]}),e.jsx(d,{message:l.delivery_project_id,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"date",value:"Tanggal Pengiriman"}),e.jsx(o,{id:"date",type:"date",className:"w-full mt-1",value:a.date,onChange:r=>t("date",r.target.value),required:!0}),e.jsx(d,{message:l.date,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"docket_number",value:"No. Surat Jalan / Tiket"}),e.jsx(o,{id:"docket_number",type:"text",className:"w-full mt-1",value:a.docket_number,onChange:r=>t("docket_number",r.target.value),placeholder:"Contoh: SJ-001",required:!0}),e.jsx(d,{message:l.docket_number,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"rit_number",value:"Ritase Ke-"}),e.jsx(o,{id:"rit_number",type:"number",className:"w-full mt-1",value:a.rit_number,onChange:r=>t("rit_number",r.target.value),placeholder:"1",required:!0}),e.jsx(d,{message:l.rit_number,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"slump",value:"Slump"}),e.jsx(o,{id:"slump",type:"text",className:"w-full mt-1",value:a.slump,onChange:r=>t("slump",r.target.value),placeholder:"12 +/- 2"}),e.jsx(d,{message:l.slump,className:"mt-1"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Detail Mutu & Volume"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"concrete_grade_id",value:"Mutu Beton"}),e.jsxs("select",{id:"concrete_grade_id",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:a.concrete_grade_id,onChange:r=>p(r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Mutu --"}),n.map(r=>e.jsx("option",{value:r.id,children:r.code},r.id))]}),e.jsx(d,{message:l.concrete_grade_id,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"volume",value:"Volume (m3)"}),e.jsx(o,{id:"volume",type:"number",step:"0.01",className:"w-full mt-1",value:a.volume,onChange:r=>t("volume",r.target.value),placeholder:"7.00",required:!0}),e.jsx(d,{message:l.volume,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price_per_m3",value:"Harga / m3"}),e.jsx(o,{id:"price_per_m3",type:"number",className:"w-full mt-1",value:a.price_per_m3,onChange:r=>t("price_per_m3",r.target.value),placeholder:"Harga deal",required:!0}),e.jsx(d,{message:l.price_per_m3,className:"mt-1"})]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-indigo-700 uppercase",children:"Total Harga Ritase Ini"}),e.jsx("span",{className:"text-xl font-black text-indigo-900",children:h(a.total_price)})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Armada & Driver"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"vehicle_number",value:"Nomor Polisi Kendaraan"}),e.jsx(o,{id:"vehicle_number",type:"text",className:"w-full mt-1",value:a.vehicle_number,onChange:r=>t("vehicle_number",r.target.value),placeholder:"G 1234 XX"}),e.jsx(d,{message:l.vehicle_number,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"driver_name",value:"Nama Driver"}),e.jsx(o,{id:"driver_name",type:"text",className:"w-full mt-1",value:a.driver_name,onChange:r=>t("driver_name",r.target.value),placeholder:"Nama pengemudi"}),e.jsx(d,{message:l.driver_name,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"notes",value:"Catatan Tambahan"}),e.jsx("textarea",{id:"notes",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:a.notes,onChange:r=>t("notes",r.target.value),placeholder:"Opsional",rows:"2"}),e.jsx(d,{message:l.notes,className:"mt-1"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[e.jsx(u,{href:route("delivery.projects.show",a.delivery_project_id),className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Batal"}),e.jsx(N,{disabled:m,children:m?"Menyimpan...":"Simpan Perubahan"})]})]})]})]})}export{q as default};
