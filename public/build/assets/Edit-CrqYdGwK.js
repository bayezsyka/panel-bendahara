import{u as f,r as u,j as e,H as j,L as _}from"./app-DteqDP6z.js";import{B as b}from"./BendaharaLayout-Y4eYKbl_.js";import{I as i}from"./InputLabel-Ud7_2xCW.js";import{T as m}from"./TextInput-BES_4MaH.js";import{P as N}from"./PrimaryButton-DDpf5jRw.js";import{I as o}from"./InputError-Cg1LX1Eh.js";import{t as y}from"./switch-BJT16QDf.js";/* empty css            */import"./ApplicationLogo-CFUqUAf-.js";import"./use-resolve-button-type-eEx3CkTO.js";import"./keyboard-BygUKIa8.js";import"./use-sync-refs-DPG-LCFQ.js";import"./description-CE2MTl-4.js";function M({project:r,customers:d,concreteGrades:g}){const{data:s,setData:t,put:x,processing:c,errors:l}=f({customer_id:r.customer_id,name:r.name,code:r.code||"",sub_contractor:r.sub_contractor||"",location:r.location||"",contact_person:r.contact_person||"",work_type:r.work_type||"Cor",default_concrete_grade_id:r.default_concrete_grade_id||"",has_ppn:r.has_ppn==1||r.has_ppn==!0,pump_rental_price:r.pump_rental_price||0,pump_limit_volume:r.pump_limit_volume||0,pump_over_volume_price:r.pump_over_volume_price||0,pump_limit_pipe:r.pump_limit_pipe||0,pump_over_pipe_price:r.pump_over_pipe_price||0}),[n,p]=u.useState(!1);u.useEffect(()=>{if(n&&s.customer_id){const a=d.find(v=>v.id===parseInt(s.customer_id));a&&t("sub_contractor",a.name)}},[n,s.customer_id]);const h=a=>{a.preventDefault(),x(route("delivery.projects.update",r.slug))};return e.jsxs(b,{children:[e.jsx(j,{title:`Edit Proyek: ${r.name}`}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(_,{href:route("delivery.projects.show",r.slug),className:"text-sm text-indigo-600 hover:text-indigo-900 flex items-center gap-1 mb-2 font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali ke Detail"]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Proyek"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Perbarui informasi proyek pengiriman beton"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6 bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"customer_id",value:"Pilih Customer"}),e.jsxs("select",{id:"customer_id",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm bg-gray-50",value:s.customer_id,onChange:a=>t("customer_id",a.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Customer --"}),d.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsx(o,{message:l.customer_id,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",value:"Nama Proyek"}),e.jsx(m,{id:"name",type:"text",className:"w-full mt-1",value:s.name,onChange:a=>t("name",a.target.value),placeholder:"Contoh: Pembangunan Ruko ABC",required:!0}),e.jsx(o,{message:l.name,className:"mt-1"})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{value:"Opsi Pajak (PPN)",className:"mb-0 font-medium text-gray-900"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Aktifkan jika proyek ini dikenakan PPN."})]}),e.jsx(y,{checked:s.has_ppn,onChange:a=>t("has_ppn",a),className:`${s.has_ppn?"bg-indigo-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2`,children:e.jsx("span",{className:`${s.has_ppn?"translate-x-6":"translate-x-1"} inline-block h-4 w-4 transform rounded-full bg-white transition duration-200 ease-in-out`})})]})}),e.jsxs("div",{className:"border-t border-gray-50 pt-4 mt-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Informasi Teknis & Lokasi"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"sub_contractor",value:"Penerima / Sub-Contractor"}),e.jsxs("div",{className:"mt-1 flex flex-col gap-2",children:[e.jsx(m,{id:"sub_contractor",type:"text",className:"w-full",value:s.sub_contractor,onChange:a=>{t("sub_contractor",a.target.value),p(!1)},placeholder:"Nama Sub-Con (Opsional)",disabled:n&&s.customer_id!==""}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500",checked:n,onChange:a=>p(a.target.checked),disabled:!s.customer_id}),e.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Gunakan Nama Customer"})]})]}),e.jsx(o,{message:l.sub_contractor,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"contact_person",value:"Kontak Lapangan / PIC"}),e.jsx(m,{id:"contact_person",type:"text",className:"w-full mt-1",value:s.contact_person,onChange:a=>t("contact_person",a.target.value),placeholder:"Nama & No. HP Lapangan"}),e.jsx(o,{message:l.contact_person,className:"mt-1"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",value:"Alamat Proyek / Lokasi Cor"}),e.jsx("textarea",{id:"location",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.location,onChange:a=>t("location",a.target.value),placeholder:"Alamat lengkap proyek",rows:"3"}),e.jsx(o,{message:l.location,className:"mt-1"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"work_type",value:"Jenis Pekerjaan"}),e.jsx(m,{id:"work_type",type:"text",className:"w-full mt-1",value:s.work_type,onChange:a=>t("work_type",a.target.value),placeholder:"Contoh: Cor, Rigid, Sloof, dll"}),e.jsx(o,{message:l.work_type,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"default_concrete_grade_id",value:"Default Mutu Beton"}),e.jsxs("select",{id:"default_concrete_grade_id",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.default_concrete_grade_id,onChange:a=>t("default_concrete_grade_id",a.target.value),children:[e.jsx("option",{value:"",children:"-- Pilih Mutu --"}),g.map(a=>e.jsx("option",{value:a.id,children:a.code},a.id))]}),e.jsx(o,{message:l.default_concrete_grade_id,className:"mt-1"})]})]}),e.jsxs("div",{className:"border-t border-gray-50 pt-4 mt-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest mb-4",children:"Pengaturan Sewa Pompa"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"pump_rental_price",value:"Harga Sewa Pompa (per Set)"}),e.jsx(m,{id:"pump_rental_price",type:"number",className:"w-full mt-1",value:s.pump_rental_price,onChange:a=>t("pump_rental_price",a.target.value),placeholder:"0"}),e.jsx(o,{message:l.pump_rental_price,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"pump_limit_volume",value:"Limit Volume (m³)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{id:"pump_limit_volume",type:"number",step:"0.01",className:"w-full mt-1",value:s.pump_limit_volume,onChange:a=>t("pump_limit_volume",a.target.value),placeholder:"0"}),e.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"m³"})]}),e.jsx(o,{message:l.pump_limit_volume,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"pump_over_volume_price",value:"Harga Over Volume (per m³)"}),e.jsx(m,{id:"pump_over_volume_price",type:"number",className:"w-full mt-1",value:s.pump_over_volume_price,onChange:a=>t("pump_over_volume_price",a.target.value),placeholder:"0"}),e.jsx(o,{message:l.pump_over_volume_price,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"pump_limit_pipe",value:"Limit Pipa (Batang)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{id:"pump_limit_pipe",type:"number",className:"w-full mt-1",value:s.pump_limit_pipe,onChange:a=>t("pump_limit_pipe",a.target.value),placeholder:"0"}),e.jsx("span",{className:"text-sm text-gray-500 mt-1",children:"btg"})]}),e.jsx(o,{message:l.pump_limit_pipe,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"pump_over_pipe_price",value:"Harga Over Pipa (per Batang)"}),e.jsx(m,{id:"pump_over_pipe_price",type:"number",className:"w-full mt-1",value:s.pump_over_pipe_price,onChange:a=>t("pump_over_pipe_price",a.target.value),placeholder:"0"}),e.jsx(o,{message:l.pump_over_pipe_price,className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[e.jsx(_,{href:route("delivery.projects.show",r.slug),className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Batal"}),e.jsx(N,{disabled:c,children:c?"Menyimpan...":"Simpan Perubahan"})]})]})]})]})}export{M as default};
