import{r as n,u as B,j as e,H as M,L as P}from"./app-Bey3Fxpz.js";import{B as E,S as L}from"./BendaharaLayout-Ch5jNDJS.js";import{P as D,B as H}from"./PageHeader-BpAbHm1P.js";import{M as I}from"./Modal-BWhHWLD4.js";import{I as T}from"./InputLabel-5149DyC9.js";import{T as _}from"./TextInput-CSad3_Cs.js";import{I as A}from"./InputError-BQKVErAs.js";import{P as p}from"./PrimaryButton-pmdbP0_O.js";import{S as z}from"./SecondaryButton-xwrqrr77.js";import{S as q}from"./SearchInput-De7kxTqb.js";import{C as u,E as F}from"./Card-Bngt2eWE.js";/* empty css            */import"./ApplicationLogo-BytXWDQF.js";import"./transition-DmnHSn5V.js";import"./use-sync-refs-Dioybri5.js";import"./keyboard-Cb1nShGT.js";import"./with-selector-Do-EdSva.js";function re({mandors:h}){const[f,s]=n.useState(!1),[t,o]=n.useState(!1),[i,j]=n.useState(""),{data:l,setData:c,post:g,put:k,delete:v,processing:d,errors:b,reset:r,clearErrors:m}=B({id:"",name:""}),x=h.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())),y=()=>{o(!1),r(),m(),s(!0)},N=a=>{o(!0),c({id:a.id,name:a.name}),m(),s(!0)},C=a=>{a.preventDefault(),t?k(route("projectexpense.mandors.update",l.id),{onSuccess:()=>{s(!1),r()}}):g(route("projectexpense.mandors.store"),{onSuccess:()=>{s(!1),r()}})},S=a=>{L.fire({title:"Hapus Pelaksana?",text:"Data pelaksana ini akan dihapus permanen.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(w=>{w.isConfirmed&&v(route("projectexpense.mandors.destroy",a))})};return e.jsxs(E,{children:[e.jsx(M,{title:"Kelola Pelaksana"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(D,{title:"Data Pelaksana",backLink:route("projectexpense.overview"),backLabel:"Dashboard",actions:e.jsx(p,{onClick:y,children:"+ Tambah Pelaksana"})}),e.jsx(q,{value:i,onChange:j,placeholder:"Cari pelaksana..."}),x.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:x.map(a=>e.jsxs(u,{noPadding:!0,hover:!0,children:[e.jsxs(P,{href:route("projectexpense.mandors.show",a.id),className:"block p-5",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 h-11 w-11 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-700 font-bold text-base",children:a.name.charAt(0)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("h3",{className:"text-base font-bold text-gray-900 truncate group-hover:text-indigo-600 transition",children:a.name})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Memegang"}),e.jsxs(H,{variant:a.projects_count>0?"indigo":"gray",size:"md",children:[a.projects_count," Proyek"]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-5 py-3 border-t border-gray-100 flex justify-between items-center text-xs",children:[e.jsx("button",{onClick:()=>N(a),className:"text-gray-600 hover:text-indigo-600 font-medium transition-colors",children:"Edit Data"}),e.jsx("div",{className:"text-gray-200",children:"|"}),e.jsx("button",{onClick:()=>S(a.id),className:"text-red-500 hover:text-red-700 font-medium transition-colors",children:"Hapus"})]})]},a.id))}):e.jsx(u,{children:e.jsx(F,{title:"Tidak ada data pelaksana",description:"Tidak ada pelaksana yang cocok dengan pencarian Anda.",icon:e.jsx("svg",{className:"w-8 h-8 text-gray-200",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})})})]}),e.jsx(I,{show:f,onClose:()=>s(!1),children:e.jsxs("form",{onSubmit:C,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:t?"Edit Data Pelaksana":"Tambah Pelaksana Baru"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(T,{value:"Nama Lengkap"}),e.jsx(_,{value:l.name,onChange:a=>c("name",a.target.value),className:"mt-1 block w-full",placeholder:"Contoh: Pak Budi",required:!0}),e.jsx(A,{message:b.name,className:"mt-2"})]})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(z,{onClick:()=>s(!1),children:"Batal"}),e.jsx(p,{disabled:d,children:d?"Menyimpan...":t?"Simpan Perubahan":"Simpan"})]})]})})]})}export{re as default};
