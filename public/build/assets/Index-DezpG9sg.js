import{r as m,u as P,j as e,H as C}from"./app-tHLPKRJt.js";import{B as S,P as _,S as E}from"./PageHeader-Be-W4veQ.js";import{M as D,S as I}from"./SecondaryButton-UZGHUrue.js";import{I as x}from"./InputLabel-D8SEVFG9.js";import{T as p,I as h}from"./TextInput-VaUJWRnp.js";import{P as u}from"./PrimaryButton-BAjMkAXT.js";/* empty css            */import"./ApplicationLogo-DgNDlHm8.js";import"./transition-Dx-EWQWO.js";import"./with-selector-Bgb9ZQyh.js";function R({mandors:i}){const[g,t]=m.useState(!1),[s,o]=m.useState(!1),{data:r,setData:n,post:j,put:f,delete:b,processing:w,errors:d,reset:l,clearErrors:c}=P({id:"",name:"",whatsapp_number:""}),y=()=>{o(!1),l(),c(),t(!0)},N=a=>{o(!0),n({id:a.id,name:a.name,whatsapp_number:a.whatsapp_number}),c(),t(!0)},k=a=>{a.preventDefault(),s?f(route("bendahara.mandors.update",r.id),{onSuccess:()=>{t(!1),l()}}):j(route("bendahara.mandors.store"),{onSuccess:()=>{t(!1),l()}})},v=a=>{E.fire({title:"Hapus Pelaksana?",text:"Data pelaksana ini akan dihapus permanen.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(B=>{B.isConfirmed&&b(route("bendahara.mandors.destroy",a))})};return e.jsxs(S,{children:[e.jsx(C,{title:"Kelola Pelaksana"}),e.jsx(_,{title:"Data Pelaksana",backLink:route("bendahara.dashboard"),backLabel:"Dashboard",actions:e.jsx(u,{onClick:y,children:"+ Tambah Pelaksana"})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Pelaksana"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WhatsApp"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proyek Aktif"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length>0?i.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("a",{href:`https://wa.me/${a.whatsapp_number}`,target:"_blank",className:"text-green-600 hover:underline flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"})}),a.whatsapp_number]})}),e.jsx("td",{className:"px-6 py-4 text-center text-sm",children:a.projects_count>0?e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-bold",children:[a.projects_count," Proyek"]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>N(a),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>v(a.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-500",children:"Belum ada data pelaksana."})})})]})})}),e.jsx(D,{show:g,onClose:()=>t(!1),children:e.jsxs("form",{onSubmit:k,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:s?"Edit Data Pelaksana":"Tambah Pelaksana Baru"}),e.jsxs("div",{className:"mb-4",children:[e.jsx(x,{value:"Nama Lengkap"}),e.jsx(p,{value:r.name,onChange:a=>n("name",a.target.value),className:"mt-1 block w-full",placeholder:"Contoh: Pak Budi",required:!0}),e.jsx(h,{message:d.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(x,{value:"Nomor WhatsApp"}),e.jsx(p,{value:r.whatsapp_number,onChange:a=>n("whatsapp_number",a.target.value),className:"mt-1 block w-full",placeholder:"Contoh: 081234567890",required:!0}),e.jsx(h,{message:d.whatsapp_number,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(I,{onClick:()=>t(!1),children:"Batal"}),e.jsx(u,{disabled:w,children:s?"Simpan Perubahan":"Simpan"})]})]})})]})}export{R as default};
