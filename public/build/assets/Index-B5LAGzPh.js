import{r as y,u as S,j as e,H as C,c as k}from"./app-CA3Jrf7q.js";import{B as D,S as I}from"./BendaharaLayout-CUuFvxaT.js";import{M as E}from"./Modal-Cfb4vwno.js";import{I as o}from"./InputLabel-C6csEeYH.js";import{T as d}from"./TextInput-DPGSP2at.js";import{I as m}from"./InputError-BO1yj7N9.js";import{P as g}from"./PrimaryButton-DzgKkOzy.js";import{S as F}from"./SecondaryButton-4gA8aX4V.js";/* empty css            */import"./ApplicationLogo-DjjSPtE0.js";import"./transition-I7zwD-Ab.js";import"./with-selector-9RFk3h7t.js";function z({grades:u}){const[b,x]=y.useState(!1),[s,p]=y.useState(null),{data:i,setData:a,post:N,put:v,processing:l,errors:n,reset:h,clearErrors:j}=S({name:"",price:"",description:""}),M=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),f=(t=null)=>{p(t),x(!0),t?a({name:t.name,price:t.price,description:t.description||""}):h(),j()},c=()=>{x(!1),p(null),h(),j()},B=t=>{t.preventDefault();const r=()=>c();s?v(route("receivable.grades.update",s.id),{onSuccess:r}):N(route("receivable.grades.store"),{onSuccess:r})},w=t=>{I.fire({title:"Hapus Mutu?",text:"Data ini akan dihapus permanen.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"}).then(r=>{r.isConfirmed&&k.delete(route("receivable.grades.destroy",t),{preserveScroll:!0})})};return e.jsxs(D,{children:[e.jsx(C,{title:"Data Mutu Beton"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Data Mutu Beton"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Kelola daftar mutu dan standar harga."})]}),e.jsx(g,{onClick:()=>f(),className:"!bg-indigo-600",children:"+ Tambah Mutu Baru"})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl border border-gray-100",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-600 font-semibold border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"Nama Mutu"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Harga Satuan (Rp)"}),e.jsx("th",{className:"px-6 py-4",children:"Deskripsi"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Aksi"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[u.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50/50",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:t.name}),e.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-700",children:M(t.price)}),e.jsx("td",{className:"px-6 py-4 text-gray-500",children:t.description||"-"}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>f(t),className:"text-blue-600 hover:text-blue-800 font-medium text-sm",children:"Edit"}),e.jsx("button",{onClick:()=>w(t.id),className:"text-red-600 hover:text-red-800 font-medium text-sm",children:"Hapus"})]})})]},t.id)),u.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-400 italic",children:"Belum ada data mutu."})})]})]})})]})}),e.jsx(E,{show:b,onClose:c,children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:s?"Edit Mutu":"Tambah Mutu Baru"}),e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",value:"Nama Mutu"}),e.jsx(d,{id:"name",value:i.name,onChange:t=>a("name",t.target.value),className:"mt-1 block w-full",placeholder:"K-225",isFocused:!0}),e.jsx(m,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"price",value:"Harga Satuan (Rp)"}),e.jsx(d,{id:"price",type:"number",value:i.price,onChange:t=>a("price",t.target.value),className:"mt-1 block w-full text-right",placeholder:"0"}),e.jsx(m,{message:n.price,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",value:"Deskripsi (Opsional)"}),e.jsx(d,{id:"description",value:i.description,onChange:t=>a("description",t.target.value),className:"mt-1 block w-full",placeholder:"Mutu standar cor jalan"}),e.jsx(m,{message:n.description,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(F,{onClick:c,disabled:l,children:"Batal"}),e.jsx(g,{disabled:l,children:l?"Menyimpan...":s?"Simpan Perubahan":"Simpan"})]})]})]})})]})}export{z as default};
