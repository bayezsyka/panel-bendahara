import{j as e,H as c,L as l}from"./app-B7W7oclS.js";import{B as m}from"./BendaharaLayout-DtlQTwzt.js";import{P as x}from"./PageHeader-DAIkh9h2.js";import{A as h}from"./arrow-left-o4JRIdcw.js";import{B as g}from"./briefcase-Q2_an1HA.js";import{c as b}from"./createLucideIcon-fLso-elW.js";/* empty css            */import"./ApplicationLogo-Cn1AfSU7.js";const u=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],p=b("map-pin",u);function _({customer:i,projects:s}){const t=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),d=s.reduce((a,r)=>a+r.total_bill,0),n=s.reduce((a,r)=>a+r.total_paid,0),o=s.reduce((a,r)=>a+r.remaining,0);return e.jsxs(m,{children:[e.jsx(c,{title:`Proyek ${i.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{href:route("receivable.index"),className:"inline-flex items-center text-sm font-medium text-slate-500 hover:text-slate-900 transition-colors",children:[e.jsx(h,{className:"mr-1 w-4 h-4"}),"Kembali ke Daftar Customer"]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(x,{title:i.name,subtitle:`Daftar proyek dan status penagihan untuk customer ${i.name}.`,icon:g}),e.jsx(l,{href:route("delivery.projects.create",{customer_id:i.id}),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 active:scale-95",children:"+ Tambah Proyek"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Total Tagihan"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:t(d)})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Total Dibayar"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:t(n)})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Sisa Piutang"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:t(o)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h3",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Status Piutang per Proyek"})}),s&&s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(a=>e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-indigo-100 transition-all duration-300 flex flex-col",children:[e.jsxs("div",{className:"p-5 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors leading-snug line-clamp-1",children:a.name}),e.jsx("span",{className:`px-2 py-0.5 text-[10px] font-black uppercase rounded border ${a.remaining>0?"bg-red-50 text-red-700 border-red-100":"bg-green-50 text-green-700 border-green-100"}`,children:a.remaining>0?"Belum Lunas":"Lunas"})]}),e.jsx("div",{className:"space-y-2 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2 text-[11px] text-gray-500 font-medium",children:[e.jsx(p,{className:"w-3.5 h-3.5 text-gray-400 mt-0.5"}),e.jsx("span",{className:"line-clamp-1",children:a.location||"Lokasi tidak tersedia"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-2.5 bg-gray-50 rounded-xl border border-gray-100",children:[e.jsx("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest mb-0.5",children:"Total Tagihan"}),e.jsx("p",{className:"text-sm font-bold text-gray-900",children:t(a.total_bill)})]}),e.jsxs("div",{className:"p-2.5 bg-emerald-50/50 rounded-xl border border-emerald-100/50",children:[e.jsx("p",{className:"text-[9px] font-bold text-emerald-400 uppercase tracking-widest mb-0.5",children:"Terbayar"}),e.jsx("p",{className:"text-sm font-bold text-emerald-700",children:t(a.total_paid)})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-red-50/30 rounded-xl border border-red-100/30",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-[9px] font-black text-red-400 uppercase tracking-widest",children:"Sisa Piutang"}),e.jsx("p",{className:"text-base font-black text-red-600",children:t(a.remaining)})]})})]}),e.jsx("div",{className:"px-5 py-3 bg-gray-50/50 border-t border-gray-50 flex justify-end",children:e.jsx(l,{href:route("receivable.project.show",a.id),className:"inline-flex items-center text-[10px] font-black text-indigo-600 uppercase tracking-widest group-hover:translate-x-1 transition-transform",children:"Kelola Keuangan Proyek â†’"})})]},a.id))}):e.jsx("div",{className:"bg-white rounded-2xl border-2 border-dashed border-gray-100 p-12 text-center",children:e.jsx("p",{className:"text-sm text-gray-500 font-medium italic",children:"Belum ada proyek terdaftar untuk customer ini."})})]})]})]})}export{_ as default};
