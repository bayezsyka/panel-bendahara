import{r as c,u as k,j as a,H as w}from"./app-u4_6e_bp.js";import{B as v,S}from"./BendaharaLayout-DVjn9BN1.js";import{P as C}from"./PageHeader-CWFiY_a0.js";import{M as T}from"./Modal-DL93lSmb.js";import{I as E}from"./InputLabel-BzBIECs-.js";import{T as M}from"./TextInput-Bzc6D1GR.js";import{I}from"./InputError-DWRV3D8Y.js";import{P as m}from"./PrimaryButton-D0sSZc4f.js";import{S as D}from"./SecondaryButton-h--1Avel.js";/* empty css            */import"./ApplicationLogo-C3PlAJxJ.js";import"./transition-BDqF2_Hb.js";import"./with-selector-zfSvsfaP.js";function J({expenseTypes:r}){const[x,t]=c.useState(!1),[s,n]=c.useState(!1),{data:o,setData:d,post:p,put:u,delete:h,processing:f,errors:g,reset:i,clearErrors:l}=k({id:"",name:"",code:""}),b=()=>{n(!1),i(),l(),t(!0)},j=e=>{n(!0),d({id:e.id,name:e.name,code:e.code||""}),l(),t(!0)},y=e=>{e.preventDefault(),s?u(route("bendahara.expense-types.update",o.id),{onSuccess:()=>{t(!1),i()}}):p(route("bendahara.expense-types.store"),{onSuccess:()=>{t(!1),i()}})},B=e=>{S.fire({title:"Hapus Tipe Biaya?",text:"Data tipe biaya ini akan dihapus. Pastikan tidak sedang digunakan (sistem mungkin akan menolak jika ada relasi).",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(N=>{N.isConfirmed&&h(route("bendahara.expense-types.destroy",e))})};return a.jsxs(v,{children:[a.jsx(w,{title:"Kelola Tipe Biaya"}),a.jsx(C,{title:"Data Tipe Biaya",backLink:route("bendahara.dashboard"),backLabel:"Dashboard",actions:a.jsx(m,{onClick:b,children:"+ Tambah Tipe"})}),a.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl border border-gray-200",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Tipe Biaya"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(e=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>j(e),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),a.jsx("button",{onClick:()=>B(e.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},e.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"2",className:"px-6 py-12 text-center text-gray-500",children:"Belum ada data tipe biaya."})})})]})})}),a.jsx(T,{show:x,onClose:()=>t(!1),children:a.jsxs("form",{onSubmit:y,className:"p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:s?"Edit Tipe Biaya":"Tambah Tipe Biaya Baru"}),a.jsxs("div",{className:"mb-6",children:[a.jsx(E,{value:"Nama Tipe Biaya"}),a.jsx(M,{value:o.name,onChange:e=>d("name",e.target.value),className:"mt-1 block w-full",placeholder:"Contoh: Material, BBM, Upah, Mobilisasi",required:!0}),a.jsx(I,{message:g.name,className:"mt-2"})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx(D,{onClick:()=>t(!1),children:"Batal"}),a.jsx(m,{disabled:f,children:s?"Simpan Perubahan":"Simpan"})]})]})})]})}export{J as default};
