import{r as h,j as e,H as u,L as d}from"./app-DDkThiwp.js";import{B as p}from"./BendaharaLayout-DkT6SKYz.js";import{P as j,B as c}from"./PageHeader-C2PkCXBo.js";import{S as f}from"./SearchInput-BTeeFBvO.js";import{S as s,F as v}from"./file-text-BatqXMQX.js";import{E as b}from"./EmptyState-ZNLL9usH.js";import{C as x}from"./Card-CtLf2Gfr.js";import{U as i,T as y}from"./users-zsgt92Vv.js";import{C as k}from"./chevron-right-CLQyjkoJ.js";/* empty css            */import"./ApplicationLogo-0iz7Fc7z.js";import"./createLucideIcon-7W9K8NLV.js";function F({customers:t}){const[o,m]=h.useState(""),l=t.filter(a=>a.name.toLowerCase().includes(o.toLowerCase())),g=t.reduce((a,r)=>a+r.total_receivable,0),n=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a);return e.jsxs(p,{children:[e.jsx(u,{title:"Piutang - Daftar Customer"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(j,{title:"Daftar Piutang Customer",subtitle:"Monitor saldo piutang dan kelola penagihan untuk setiap customer Anda.",icon:i}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[e.jsx(s,{title:"Total Customer",value:t.length,icon:e.jsx(i,{className:"w-6 h-6"}),iconBg:"bg-blue-50",iconColor:"text-blue-600"}),e.jsx(s,{title:"Total Piutang Berjalan",value:n(g),icon:e.jsx(y,{className:"w-6 h-6"}),iconBg:"bg-indigo-50",iconColor:"text-indigo-600"}),e.jsx(s,{title:"Total Proyek Aktif",value:t.reduce((a,r)=>a+r.projects_count,0),icon:e.jsx(v,{className:"w-6 h-6"}),iconBg:"bg-emerald-50",iconColor:"text-emerald-600"})]}),e.jsx(f,{value:o,onChange:m,placeholder:"Cari customer..."}),l.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:l.map(a=>e.jsxs(x,{noPadding:!0,hover:!0,className:"group flex flex-col overflow-hidden",children:[e.jsxs(d,{href:route("receivable.customer.show",a.id),className:"p-6 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center font-black text-xl",children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs(c,{variant:"blue",size:"md",children:[a.projects_count," Proyek"]}),e.jsx(c,{variant:a.total_receivable>0?"red":"green",size:"md",dot:!0,children:a.total_receivable>0?"Belum Lunas":"Lunas"})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-indigo-600 transition-colors line-clamp-1",children:a.name}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-medium",children:[e.jsxs("svg",{className:"w-3.5 h-3.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"line-clamp-1",children:a.address||"Alamat tidak tersedia"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-medium",children:[e.jsx("svg",{className:"w-3.5 h-3.5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),a.contact||"-"]})]}),e.jsxs("div",{className:"mt-5 p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Total Piutang"}),e.jsx("p",{className:`text-lg font-black ${a.total_receivable>0?"text-red-600":"text-gray-900"}`,children:n(a.total_receivable)})]})]}),e.jsx("div",{className:"px-6 py-3.5 bg-gray-50/50 border-t border-gray-100 flex justify-end items-center mt-auto",children:e.jsxs(d,{href:route("receivable.customer.show",a.id),className:"text-xs font-bold text-indigo-600 hover:text-indigo-800 transition-colors uppercase tracking-widest flex items-center gap-1",children:["Kelola Piutang",e.jsx(k,{className:"w-3.5 h-3.5"})]})})]},a.id))}):e.jsx(x,{children:e.jsx(b,{title:"Tidak Ada Data",description:"Tidak ada customer yang ditemukan dengan kriteria pencarian Anda.",icon:e.jsx(i,{className:"w-8 h-8 text-gray-200"})})})]})]})}export{F as default};
