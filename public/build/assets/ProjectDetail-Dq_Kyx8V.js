import{r as u,u as g,j as e,H as R,L as V}from"./app-1GuRuwXM.js";import{c as x,B as q}from"./BendaharaLayout-azH27Bhb.js";import{P as K}from"./PageHeader-Lgi7j_5r.js";import{M as b}from"./Modal-BxR1ZytI.js";import{T as n}from"./TextInput-B1b_5vwn.js";import{I as l}from"./InputLabel-DM71_Qhi.js";import{P as j}from"./PrimaryButton-8e92Z_qi.js";import{S as y}from"./SecondaryButton-DfEV9W92.js";import{A as $}from"./arrow-left-B98sWANL.js";import{C as D}from"./calendar-DEi33EzO.js";import{P as z}from"./plus-BYty1N1n.js";import{H as A}from"./history-wF_cDZ9C.js";/* empty css            */import"./ApplicationLogo-ji5Nsjxc.js";import"./transition-CrexFo9_.js";import"./use-sync-refs-j05iY-EP.js";import"./open-closed-JmYsaq0p.js";import"./keyboard-7ucfL_9T.js";import"./with-selector-DWV7iKPJ.js";import"./description-C1II6esh.js";import"./close-provider-DUthU0z7.js";const J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],E=x("circle-check",J);const W=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G=x("clock",W);const U=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],S=x("credit-card",U);const Z=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Q=x("file-down",Z);const X=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],P=x("file-spreadsheet",X);const Y=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ee=x("receipt",Y);function fe({project:s,unbilled_shipments:N,billed_shipments:v,payments:f,concrete_grades:_=[],shipment_ledger:k=[],pump_ledger:w=[]}){const[c,C]=u.useState("ledger"),[T,m]=u.useState(!1),[I,h]=u.useState(!1),[M,p]=u.useState(!1),i=g({amount:"",date:new Date().toISOString().split("T")[0],description:"Pembayaran Piutang",notes:""}),a=g({start_date:"",end_date:new Date().toISOString().split("T")[0],invoice_date:new Date().toISOString().split("T")[0],mark_as_billed:!0,doc_no:"",delivery_note:"",po_so_no:"",terms_of_payment:"",due_date_jt:"",include_pump:!0}),d=t=>{const o=Number(t);return isNaN(o)?"Rp0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o)},F=t=>{t.preventDefault(),s?.slug&&i.post(route("receivable.project.payment.store",s.slug),{onSuccess:()=>{m(!1),i.reset()}})},L=t=>{if(t.preventDefault(),!s?.slug)return;const o=route("receivable.project.export-invoice",{project:s.slug,...a.data});window.open(o,"_blank"),h(!1)},r=g({date:new Date().toISOString().split("T")[0],concrete_grade_id:"",volume:"",price_per_m3:""}),B=t=>{t.preventDefault(),s?.slug&&r.post(route("receivable.project.legacy.store",s.slug),{onSuccess:()=>{p(!1),r.reset()}})},O=[{id:"ledger",label:"Kartu Piutang",icon:P},{id:"unbilled",label:"Belum Ditagih",icon:G},{id:"history",label:"Riwayat Tagihan",icon:A},{id:"payments",label:"Pembayaran",icon:S}];return e.jsxs(q,{children:[e.jsx(R,{title:`Transaksi ${s.name}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(V,{href:s.customer_id?route("receivable.customer.show",s.customer.slug):"#",className:"inline-flex items-center text-sm font-medium text-slate-500 hover:text-slate-900 transition-colors",children:[e.jsx($,{className:"mr-1 w-4 h-4"}),"Kembali ke Daftar Proyek"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[e.jsx(K,{title:s.name,subtitle:`${s.customer.name} - ${s.location||"No Location"}`,icon:P}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>p(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2.5 rounded-xl text-sm font-bold flex items-center transition-all shadow-sm",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Input Piutang"]}),e.jsxs("button",{onClick:()=>m(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2.5 rounded-xl text-sm font-bold flex items-center transition-all shadow-sm",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Input Pembayaran"]}),e.jsxs("button",{onClick:()=>h(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2.5 rounded-xl text-sm font-bold flex items-center transition-all shadow-sm",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Buat Invoice"]})]})]}),e.jsx("div",{className:"flex border-b border-slate-200 gap-8 overflow-x-auto",children:O.map(t=>e.jsxs("button",{onClick:()=>C(t.id),className:`pb-4 text-sm font-bold flex items-center gap-2 transition-all relative whitespace-nowrap ${c===t.id?"text-indigo-600 dark:text-indigo-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),t.label,c===t.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600 rounded-full"})]},t.id))}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[c==="ledger"&&e.jsxs("div",{className:"space-y-8 p-4 bg-slate-50/50",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-800 flex items-center",children:[e.jsx("div",{className:"w-1.5 h-6 bg-indigo-600 rounded-full mr-3"}),"Rekapitulasi Piutang Pengiriman Beton"]}),e.jsx("span",{className:"text-[10px] bg-indigo-100 text-indigo-700 px-2 py-1 rounded-md font-bold",children:"Concrete Ledger"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 text-[10px] font-black uppercase tracking-wider text-slate-500 border-b border-slate-100",children:[e.jsx("th",{className:"px-4 py-3 text-center border-r border-slate-100",children:"No"}),e.jsx("th",{className:"px-4 py-3 border-r border-slate-100",children:"Tanggal"}),e.jsx("th",{className:"px-4 py-3 border-r border-slate-100",children:"Mutu"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100",children:"Harga m3"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100",children:"Vol"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100",children:"Total Vol"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100",children:"Tagihan"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100",children:"Total Tagihan"}),e.jsx("th",{className:"px-4 py-3 border-r border-slate-100",children:"Keterangan"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100",children:"Pembayaran"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Saldo Akhir"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 text-xs text-slate-700",children:k.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"11",className:"px-6 py-12 text-center text-slate-500 italic",children:"Belum ada transaksi pengiriman."})}):k.map((t,o)=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center font-medium border-r border-slate-100 bg-slate-50/30",children:o+1}),e.jsx("td",{className:"px-4 py-3 border-r border-slate-100",children:t.type==="shipment"||t.type==="payment"?new Date(t.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"2-digit"}):"-"}),e.jsx("td",{className:"px-4 py-3 border-r border-slate-100 font-bold",children:t.type==="shipment"&&t.concrete_grade?.code||"-"}),e.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-100",children:t.type==="shipment"?d(t.price_per_m3):"-"}),e.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-100 font-medium",children:t.type==="shipment"?t.volume.toLocaleString("id-ID"):"-"}),e.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-100 font-bold text-slate-500",children:t.total_volume.toLocaleString("id-ID")}),e.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-100 font-bold text-slate-800 bg-slate-50/30",children:t.type==="shipment"?d(t.debit):"-"}),e.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-100 font-black text-slate-900 bg-slate-50/50",children:d(t.total_tagihan)}),e.jsx("td",{className:"px-4 py-3 border-r border-slate-100 italic text-slate-500 max-w-[200px] truncate",title:t.description||t.notes,children:t.description||t.notes||"-"}),e.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-100 font-bold text-emerald-600 bg-emerald-50/30",children:t.type==="payment"?d(t.credit):"-"}),e.jsx("td",{className:"px-4 py-3 text-right font-black text-indigo-700 bg-indigo-50/30",children:d(t.balance)})]},t.id))})]})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs("h3",{className:"text-sm font-black uppercase tracking-widest text-slate-800 flex items-center",children:[e.jsx("div",{className:"w-1.5 h-6 bg-orange-500 rounded-full mr-3"}),"Rekapitulasi Sewa Pompa"]}),e.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-2 py-1 rounded-md font-bold",children:"Pump Rental History"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/80 text-[10px] font-black uppercase tracking-wider text-slate-500 border-b border-slate-100",children:[e.jsx("th",{className:"px-4 py-3 text-center border-r border-slate-100",children:"No"}),e.jsx("th",{className:"px-4 py-3 border-r border-slate-100",children:"Tanggal"}),e.jsx("th",{className:"px-4 py-3 border-r border-slate-100",children:"DN"}),e.jsx("th",{className:"px-4 py-3 border-r border-slate-100",children:"Kendaraan"}),e.jsx("th",{className:"px-4 py-3 border-r border-slate-100",children:"Driver"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100",children:"Volume"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100 font-bold text-slate-800",children:"Tagihan"}),e.jsx("th",{className:"px-4 py-3 text-right border-r border-slate-100 font-black text-slate-900",children:"Total Tagihan"}),e.jsx("th",{className:"px-4 py-3",children:"Catatan"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 text-xs text-slate-700",children:w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-12 text-center text-slate-500 italic",children:"Belum ada transaksi sewa pompa."})}):w.map((t,o)=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center font-medium border-r border-slate-100 bg-slate-50/30",children:o+1}),e.jsx("td",{className:"px-4 py-3 border-r border-slate-100font-bold bg-orange-50/10",children:new Date(t.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"2-digit"})}),e.jsx("td",{className:"px-4 py-3 border-r border-slate-100 font-mono text-xs text-indigo-600 font-bold",children:t.docket_number}),e.jsx("td",{className:"px-4 py-3 border-r border-slate-100 uppercase text-[10px] font-black",children:t.vehicle_number||"-"}),e.jsx("td",{className:"px-4 py-3 border-r border-slate-100",children:t.driver_name||"-"}),e.jsxs("td",{className:"px-4 py-3 text-right border-r border-slate-100 font-medium",children:[t.volume_pumped," M3"]}),e.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-100 font-bold text-slate-800 bg-slate-50/30",children:d(t.debit)}),e.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-100 font-black text-slate-900 bg-orange-50/20",children:d(t.total_tagihan)}),e.jsx("td",{className:"px-4 py-3 italic text-slate-500 max-w-[200px] truncate",children:t.notes||"-"})]},t.id))})]})})})]})]}),c==="unbilled"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Tanggal"}),e.jsx("th",{className:"px-6 py-4",children:"No. Docket (DN)"}),e.jsx("th",{className:"px-6 py-4",children:"Mutu"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Volume"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Harga Satuan"}),s.has_ppn&&e.jsx("th",{className:"px-6 py-4 text-right",children:"Total (DPP)"}),e.jsxs("th",{className:"px-6 py-4 text-right",children:["Total ",s.has_ppn?"(+PPN)":""]})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-500 italic",children:"Semua pengiriman sudah ditagih."})}):N.map(t=>e.jsxs("tr",{className:"text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:new Date(t.date).toLocaleDateString("id-ID")}),e.jsx("td",{className:"px-6 py-4 font-mono font-bold text-indigo-600 dark:text-indigo-400",children:t.docket_number}),e.jsx("td",{className:"px-6 py-4",children:t.concrete_grade?.code||"-"}),e.jsxs("td",{className:"px-6 py-4 text-center",children:[t.volume," M3"]}),e.jsx("td",{className:"px-6 py-4 text-right",children:d(t.price_per_m3)}),s.has_ppn&&e.jsx("td",{className:"px-6 py-4 text-right text-slate-500",children:d(t.total_price)}),e.jsx("td",{className:"px-6 py-4 text-right font-bold",children:d(t.total_price_with_tax)})]},t.id))})]})}),c==="history"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Tanggal"}),e.jsx("th",{className:"px-6 py-4",children:"No. Docket (DN)"}),e.jsx("th",{className:"px-6 py-4",children:"Mutu"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Volume"}),s.has_ppn&&e.jsx("th",{className:"px-6 py-4 text-right",children:"Total (DPP)"}),e.jsxs("th",{className:"px-6 py-4 text-right",children:["Total ",s.has_ppn?"(+PPN)":""]}),e.jsx("th",{className:"px-6 py-4 text-center",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-slate-500 italic",children:"Belum ada riwayat tagihan."})}):v.map(t=>e.jsxs("tr",{className:"text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:new Date(t.date).toLocaleDateString("id-ID")}),e.jsx("td",{className:"px-6 py-4 font-mono font-bold text-slate-600 dark:text-slate-400",children:t.docket_number}),e.jsx("td",{className:"px-6 py-4",children:t.concrete_grade?.code||"-"}),e.jsxs("td",{className:"px-6 py-4 text-center",children:[t.volume," M3"]}),s.has_ppn&&e.jsx("td",{className:"px-6 py-4 text-right text-slate-500",children:d(t.total_price)}),e.jsx("td",{className:"px-6 py-4 text-right",children:d(t.total_price_with_tax)}),e.jsx("td",{className:"px-6 py-4 text-center text-emerald-600 font-bold",children:e.jsxs("span",{className:"inline-flex items-center",children:[e.jsx(E,{className:"w-4 h-4 mr-1"})," Billed"]})})]},t.id))})]})}),c==="payments"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50/50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Tanggal"}),e.jsx("th",{className:"px-6 py-4",children:"Keterangan"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Jumlah Pembayaran"}),e.jsx("th",{className:"px-6 py-4",children:"Catatan"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-slate-500 italic",children:"Belum ada transaksi pembayaran."})}):f.map(t=>e.jsxs("tr",{className:"text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:new Date(t.date).toLocaleDateString("id-ID")}),e.jsx("td",{className:"px-6 py-4 font-bold",children:t.description}),e.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-bold",children:d(t.amount)}),e.jsx("td",{className:"px-6 py-4 text-slate-500",children:t.notes||"-"})]},t.id))})]})})]})]}),e.jsx(b,{show:T,onClose:()=>m(!1),maxWidth:"lg",children:e.jsxs("form",{onSubmit:F,className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[e.jsx(S,{className:"w-6 h-6 mr-2 text-emerald-600"}),"Input Pembayaran Baru"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"amount",value:"Jumlah Pembayaran (Rp)"}),e.jsx(n,{id:"amount",type:"number",className:"mt-1 block w-full",value:i.data.amount,onChange:t=>i.setData("amount",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"date",value:"Tanggal Transaksi"}),e.jsx(n,{id:"date",type:"date",className:"mt-1 block w-full",value:i.data.date,onChange:t=>i.setData("date",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",value:"Keterangan"}),e.jsx(n,{id:"description",className:"mt-1 block w-full",value:i.data.description,onChange:t=>i.setData("description",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"notes",value:"Catatan Tambahan (Opsional)"}),e.jsx("textarea",{id:"notes",className:"mt-1 block w-full border-slate-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"3",value:i.data.notes,onChange:t=>i.setData("notes",t.target.value)})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(y,{onClick:()=>m(!1),children:"Batal"}),e.jsx(j,{disabled:i.processing,className:"bg-emerald-600 hover:bg-emerald-700",children:"Simpan Pembayaran"})]})]})}),e.jsx(b,{show:I,onClose:()=>h(!1),maxWidth:"4xl",children:e.jsxs("form",{onSubmit:L,className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[e.jsx(Q,{className:"w-6 h-6 mr-2 text-indigo-600"}),"Generate Invoice PDF"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"start_date",value:"Dari Tanggal (DN)"}),e.jsx(n,{id:"start_date",type:"date",className:"mt-1 block w-full",value:a.data.start_date,onChange:t=>a.setData("start_date",t.target.value)}),e.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"* Kosongkan untuk semua"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"end_date",value:"Sampai Tanggal (DN)"}),e.jsx(n,{id:"end_date",type:"date",className:"mt-1 block w-full",value:a.data.end_date,onChange:t=>a.setData("end_date",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"invoice_date",value:"Tanggal Invoice"}),e.jsx(n,{id:"invoice_date",type:"date",className:"mt-1 block w-full",value:a.data.invoice_date,onChange:t=>a.setData("invoice_date",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"doc_no",value:"Doc. No."}),e.jsx(n,{id:"doc_no",className:"mt-1 block w-full",value:a.data.doc_no,onChange:t=>a.setData("doc_no",t.target.value),placeholder:"INV/JKK/..."})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"delivery_note",value:"Delivery Note/Date"}),e.jsx(n,{id:"delivery_note",className:"mt-1 block w-full",value:a.data.delivery_note,onChange:t=>a.setData("delivery_note",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"po_so_no",value:"PO atau SO No./Date"}),e.jsx(n,{id:"po_so_no",className:"mt-1 block w-full",value:a.data.po_so_no,onChange:t=>a.setData("po_so_no",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"terms_of_payment",value:"Terms of Payment"}),e.jsx(n,{id:"terms_of_payment",className:"mt-1 block w-full",value:a.data.terms_of_payment,onChange:t=>a.setData("terms_of_payment",t.target.value)})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"due_date_jt",value:"Due Date / JT"}),e.jsx(n,{id:"due_date_jt",className:"mt-1 block w-full",value:a.data.due_date_jt,onChange:t=>a.setData("due_date_jt",t.target.value)})]})]}),e.jsxs("div",{className:"flex items-center gap-8 mt-4 pt-4 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"include_pump",className:"rounded border-slate-300 text-indigo-600 shadow-sm focus:ring-indigo-500",checked:a.data.include_pump,onChange:t=>a.setData("include_pump",t.target.checked)}),e.jsx("label",{htmlFor:"include_pump",className:"ml-2 text-sm text-slate-700 font-bold select-none cursor-pointer",children:"Sertakan Sewa Pompa"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"mark_as_billed",className:"rounded border-slate-300 text-indigo-600 shadow-sm focus:ring-indigo-500",checked:a.data.mark_as_billed,onChange:t=>a.setData("mark_as_billed",t.target.checked)}),e.jsx("label",{htmlFor:"mark_as_billed",className:"ml-2 text-sm text-slate-700 font-bold select-none cursor-pointer",children:'Tandai "Sudah Ditagih"'})]})]})]}),e.jsx("p",{className:"mt-6 text-xs text-slate-500 bg-slate-50 p-3 rounded-lg border border-slate-100",children:"* Export ini akan mencakup pengiriman dalam periode yang dipilih dan otomatis menghitung total DP/pembayaran yang telah masuk hingga tanggal invoice."}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(y,{onClick:()=>h(!1),children:"Batal"}),e.jsx(j,{className:"bg-indigo-600 hover:bg-indigo-700",children:"Unduh PDF Invoice"})]})]})}),e.jsx(b,{show:M,onClose:()=>p(!1),maxWidth:"lg",children:e.jsxs("form",{onSubmit:B,className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[e.jsx(D,{className:"w-6 h-6 mr-2 text-orange-600"}),"Input Piutang (Migrasi Data)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"legacy_date",value:"Tanggal Transaksi/Surat Jalan"}),e.jsx(n,{id:"legacy_date",type:"date",className:"mt-1 block w-full",value:r.data.date,onChange:t=>r.setData("date",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"concrete_grade_id",value:"Mutu Beton"}),e.jsxs("select",{id:"concrete_grade_id",className:"mt-1 block w-full border-slate-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:r.data.concrete_grade_id,onChange:t=>{const o=_.find(H=>H.id==t.target.value);r.setData({...r.data,concrete_grade_id:t.target.value,price_per_m3:o?o.price:r.data.price_per_m3})},required:!0,children:[e.jsx("option",{value:"",children:"Pilih Mutu"}),_.map(t=>e.jsx("option",{value:t.id,children:t.code},t.id))]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"volume",value:"Volume (m³)"}),e.jsx(n,{id:"volume",type:"number",step:"0.01",className:"mt-1 block w-full",value:r.data.volume,onChange:t=>r.setData("volume",t.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"price_per_m3",value:"Harga Satuan (Rp/m³)"}),e.jsx(n,{id:"price_per_m3",type:"number",className:"mt-1 block w-full",value:r.data.price_per_m3,onChange:t=>r.setData("price_per_m3",t.target.value),required:!0})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100",children:[e.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Total Tagihan"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:d((r.data.volume||0)*(r.data.price_per_m3||0))})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[e.jsx(y,{onClick:()=>p(!1),children:"Batal"}),e.jsx(j,{disabled:r.processing,className:"bg-orange-600 hover:bg-orange-700",children:"Simpan Data Migrasi"})]})]})})]})}export{fe as default};
