import{r as u,u as C,j as e,H as P}from"./app-CA3Jrf7q.js";import{B as M,S as T}from"./BendaharaLayout-CUuFvxaT.js";import{P as E}from"./PageHeader-CawYbxDr.js";import{M as I}from"./Modal-Cfb4vwno.js";import{I as p}from"./InputLabel-C6csEeYH.js";import{T as D}from"./TextInput-DPGSP2at.js";import{I as h}from"./InputError-BO1yj7N9.js";import{P as g}from"./PrimaryButton-DzgKkOzy.js";import{S as H}from"./SecondaryButton-4gA8aX4V.js";/* empty css            */import"./ApplicationLogo-DjjSPtE0.js";import"./transition-I7zwD-Ab.js";import"./with-selector-9RFk3h7t.js";function Q({expenseTypes:l,currentOfficeId:f}){const[j,t]=u.useState(!1),[i,d]=u.useState(!1),s=f===2,{data:n,setData:r,post:b,put:y,delete:N,processing:c,errors:m,reset:o,clearErrors:x}=C({id:"",name:"",code:"",category:"out"}),w=()=>{d(!1),o(),r("category","out"),x(),t(!0)},v=a=>{d(!0),r({id:a.id,name:a.name,code:a.code||"",category:a.category||"out"}),x(),t(!0)},k=a=>{a.preventDefault(),i?y(route("bendahara.expense-types.update",n.id),{onSuccess:()=>{t(!1),o()}}):b(route("bendahara.expense-types.store"),{onSuccess:()=>{t(!1),o()}})},B=a=>{T.fire({title:"Hapus Tipe?",text:"Data tipe ini akan dihapus. Pastikan tidak sedang digunakan.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(S=>{S.isConfirmed&&N(route("bendahara.expense-types.destroy",a))})};return e.jsxs(M,{children:[e.jsx(P,{title:"Kelola Tipe"}),e.jsx(E,{title:"Data Tipe",backLink:route("bendahara.dashboard"),backLabel:"Dashboard",actions:e.jsx(g,{onClick:w,children:"+ Tambah Tipe"})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Tipe"}),s&&e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length>0?l.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.name}),s&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.category==="in"?e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Pemasukan"}):e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Pengeluaran"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>v(a),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>B(a.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:s?3:2,className:"px-6 py-12 text-center text-gray-500",children:"Belum ada data tipe."})})})]})})}),e.jsx(I,{show:j,onClose:()=>t(!1),children:e.jsxs("form",{onSubmit:k,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:i?"Edit Tipe":"Tambah Tipe Baru"}),s&&e.jsxs("div",{className:"mb-4",children:[e.jsx(p,{value:"Kategori Transaksi"}),e.jsxs("select",{className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:n.category,onChange:a=>r("category",a.target.value),children:[e.jsx("option",{value:"out",children:"Pengeluaran (Kas Keluar)"}),e.jsx("option",{value:"in",children:"Pemasukan (Kas Masuk)"})]}),e.jsx(h,{message:m.category,className:"mt-2"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(p,{value:"Nama Tipe"}),e.jsx(D,{value:n.name,onChange:a=>r("name",a.target.value),className:"mt-1 block w-full",placeholder:s?"Contoh: Material, BBM, Upah, Penjualan Scrap":"Contoh: Gaji, Listrik, Material Project",required:!0}),e.jsx(h,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(H,{onClick:()=>t(!1),children:"Batal"}),e.jsx(g,{disabled:c,children:c?"Menyimpan...":i?"Simpan Perubahan":"Simpan"})]})]})})]})}export{Q as default};
