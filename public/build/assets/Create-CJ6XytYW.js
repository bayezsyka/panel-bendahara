import{u as y,r as N,j as e,H as w,L as g}from"./app-B7W7oclS.js";import{B as k}from"./BendaharaLayout-DtlQTwzt.js";import{I as i}from"./InputLabel-BpLXTgxG.js";import{T as d}from"./TextInput-4JNY-dzr.js";import{P as C}from"./PrimaryButton-D8BSPuzh.js";import{I as l}from"./InputError-CpPVdy7_.js";/* empty css            */import"./ApplicationLogo-Cn1AfSU7.js";function L({projects:c,concreteGrades:m,selectedProjectId:x,defaultValues:u}){const{data:s,setData:a,post:h,processing:p,errors:t}=y({delivery_project_id:x||"",date:new Date().toISOString().split("T")[0],docket_number:"",rit_number:"",concrete_grade_id:u?.concrete_grade_id||"",slump:"12 +/- 2",volume:"",vehicle_number:"",driver_name:"",price_per_m3:u?.price_per_m3||0,total_price:0,notes:""});N.useEffect(()=>{const r=parseFloat(s.volume||0)*parseFloat(s.price_per_m3||0);a("total_price",r)},[s.volume,s.price_per_m3]);const v=r=>{a("delivery_project_id",r);const o=c.find(n=>n.id===parseInt(r));if(o&&o.default_concrete_grade_id){a("concrete_grade_id",o.default_concrete_grade_id);const n=m.find(b=>b.id===o.default_concrete_grade_id);n&&a("price_per_m3",n.price)}},_=r=>{a("concrete_grade_id",r);const o=m.find(n=>n.id===parseInt(r));o&&a("price_per_m3",o.price)},j=r=>{r.preventDefault(),h(route("delivery.shipments.store"))},f=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r);return e.jsxs(k,{children:[e.jsx(w,{title:"Catat Pengiriman Baru"}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(g,{href:s.delivery_project_id?route("delivery.projects.show",s.delivery_project_id):route("delivery.projects.index"),className:"text-sm text-indigo-600 hover:text-indigo-900 flex items-center gap-1 mb-2 font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Kembali"]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Catat Pengiriman"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Input data pengiriman harian (Docket/Tiket)"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"delivery_project_id",value:"Proyek"}),e.jsxs("select",{id:"delivery_project_id",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.delivery_project_id,onChange:r=>v(r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Proyek --"}),c.map(r=>e.jsxs("option",{value:r.id,children:[r.name," (",r.customer.name,")"]},r.id))]}),e.jsx(l,{message:t.delivery_project_id,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"date",value:"Tanggal Pengiriman"}),e.jsx(d,{id:"date",type:"date",className:"w-full mt-1",value:s.date,onChange:r=>a("date",r.target.value),required:!0}),e.jsx(l,{message:t.date,className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"docket_number",value:"Docket Number / Tiket"}),e.jsx(d,{id:"docket_number",type:"text",className:"w-full mt-1",value:s.docket_number,onChange:r=>a("docket_number",r.target.value),placeholder:"Contoh: SJ-001",required:!0}),e.jsx(l,{message:t.docket_number,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"rit_number",value:"Ritase Ke-"}),e.jsx(d,{id:"rit_number",type:"number",className:"w-full mt-1",value:s.rit_number,onChange:r=>a("rit_number",r.target.value),placeholder:"1",required:!0}),e.jsx(l,{message:t.rit_number,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"slump",value:"Slump"}),e.jsx(d,{id:"slump",type:"text",className:"w-full mt-1",value:s.slump,onChange:r=>a("slump",r.target.value),placeholder:"12 +/- 2"}),e.jsx(l,{message:t.slump,className:"mt-1"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Detail Mutu & Volume"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"concrete_grade_id",value:"Mutu Beton"}),e.jsxs("select",{id:"concrete_grade_id",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.concrete_grade_id,onChange:r=>_(r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Pilih Mutu --"}),m.map(r=>e.jsx("option",{value:r.id,children:r.code},r.id))]}),e.jsx(l,{message:t.concrete_grade_id,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"volume",value:"Volume (m3)"}),e.jsx(d,{id:"volume",type:"number",step:"0.01",className:"w-full mt-1",value:s.volume,onChange:r=>a("volume",r.target.value),placeholder:"7.00",required:!0}),e.jsx(l,{message:t.volume,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price_per_m3",value:"Harga / m3"}),e.jsx(d,{id:"price_per_m3",type:"number",className:"w-full mt-1",value:s.price_per_m3,onChange:r=>a("price_per_m3",r.target.value),placeholder:"Harga deal",required:!0}),e.jsx(l,{message:t.price_per_m3,className:"mt-1"})]})]}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-indigo-700 uppercase",children:"Total Harga Ritase Ini"}),e.jsx("span",{className:"text-xl font-black text-indigo-900",children:f(s.total_price)})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm space-y-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Armada & Driver"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"vehicle_number",value:"Nomor Polisi Kendaraan"}),e.jsx(d,{id:"vehicle_number",type:"text",className:"w-full mt-1",value:s.vehicle_number,onChange:r=>a("vehicle_number",r.target.value),placeholder:"G 1234 XX"}),e.jsx(l,{message:t.vehicle_number,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"driver_name",value:"Nama Driver"}),e.jsx(d,{id:"driver_name",type:"text",className:"w-full mt-1",value:s.driver_name,onChange:r=>a("driver_name",r.target.value),placeholder:"Nama pengemudi"}),e.jsx(l,{message:t.driver_name,className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"notes",value:"Catatan Tambahan"}),e.jsx("textarea",{id:"notes",className:"w-full mt-1 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:s.notes,onChange:r=>a("notes",r.target.value),placeholder:"Opsional",rows:"2"}),e.jsx(l,{message:t.notes,className:"mt-1"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-6",children:[e.jsx(g,{href:s.delivery_project_id?route("delivery.projects.show",s.delivery_project_id):route("delivery.projects.index"),className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-xs font-semibold uppercase tracking-widest text-gray-700 shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Batal"}),e.jsx(C,{disabled:p,children:p?"Menyimpan...":"Simpan Pengiriman"})]})]})]})]})}export{L as default};
