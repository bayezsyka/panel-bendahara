import{r as i,u as T,c as B,j as e,H as U,L as F}from"./app-Ph_d576U.js";import{B as L}from"./BendaharaLayout-Bbetsg8T.js";import{P as y}from"./PrimaryButton-CO5U5iMa.js";import{S as A}from"./SecondaryButton-DU0wGuVH.js";import{M as D}from"./Modal-BhVshn3Q.js";import{I as c}from"./InputLabel-BCamJjXJ.js";import{T as m}from"./TextInput-B5DhdEg7.js";import{I as n}from"./InputError-CN-7pehF.js";/* empty css            */import"./ApplicationLogo-B6DA0t4q.js";import"./transition-HONoVvlR.js";import"./with-selector-CsYLJ9WJ.js";function X({auth:H,users:x,filters:u}){const[b,p]=i.useState(!1),[t,h]=i.useState(!1),[w,g]=i.useState(null),[d,N]=i.useState(u.search||""),{data:r,setData:s,post:k,put:S,processing:f,errors:l,reset:j,clearErrors:v}=T({name:"",email:"",password:"",role:"user",is_active:!0});i.useEffect(()=>{const a=setTimeout(()=>{d!==(u.search||"")&&B.get(route("superadmin.users.index"),{search:d},{preserveState:!0,replace:!0})},300);return()=>clearTimeout(a)},[d]);const M=()=>{h(!1),g(null),j(),v(),p(!0)},_=a=>{h(!0),g(a),s({name:a.name,email:a.email,password:"",role:a.role,is_active:!!a.is_active}),v(),p(!0)},o=()=>{p(!1),j()},E=a=>{a.preventDefault(),t?S(route("superadmin.users.update",w.id),{onSuccess:()=>o()}):k(route("superadmin.users.store"),{onSuccess:()=>o()})},C=a=>{s("is_active",a)};return e.jsxs(L,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Management User"}),children:[e.jsx(U,{title:"Management User"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[e.jsx("div",{className:"w-full sm:w-1/3",children:e.jsx(m,{type:"text",placeholder:"Cari nama atau email...",className:"w-full",value:d,onChange:a=>N(a.target.value)})}),e.jsx(y,{onClick:M,children:"+ Tambah User"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.data.length>0?x.data.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:a.role}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${a.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.is_active?"Aktif":"Nonaktif"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>_(a),className:"text-indigo-600 hover:text-indigo-900 font-bold",children:"Edit"})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"Tidak ada data user."})})})]})}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsx("div",{}),e.jsx("div",{className:"flex gap-2",children:x.links.map((a,I)=>e.jsx("div",{children:a.url?e.jsx(F,{href:a.url,className:`px-3 py-1 border rounded text-sm ${a.active?"bg-indigo-500 text-white border-indigo-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,dangerouslySetInnerHTML:{__html:a.label}}):e.jsx("span",{className:"px-3 py-1 border border-gray-300 rounded text-sm text-gray-400 bg-gray-100 cursor-not-allowed",dangerouslySetInnerHTML:{__html:a.label}})},I))})]})]})})}),e.jsx(D,{show:b,onClose:o,children:e.jsxs("form",{onSubmit:E,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:t?"Edit User":"Tambah User Baru"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"name",value:"Nama Lengkap"}),e.jsx(m,{id:"name",type:"text",className:"mt-1 block w-full",value:r.name,onChange:a=>s("name",a.target.value),required:!0,isFocused:!0}),e.jsx(n,{message:l.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"email",value:"Email"}),e.jsx(m,{id:"email",type:"email",className:"mt-1 block w-full",value:r.email,onChange:a=>s("email",a.target.value),required:!0}),e.jsx(n,{message:l.email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"password",value:"Password"}),e.jsx(m,{id:"password",type:"password",className:"mt-1 block w-full",value:r.password,onChange:a=>s("password",a.target.value),placeholder:t?"Isi jika ingin mengubah":"",required:!t}),e.jsx(n,{message:l.password,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"role",value:"Role"}),e.jsxs("select",{id:"role",className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:r.role,onChange:a=>s("role",a.target.value),children:[e.jsx("option",{value:"user",children:"User Standar"}),e.jsx("option",{value:"mandor",children:"Mandor"}),e.jsx("option",{value:"bendahara",children:"Bendahara"}),e.jsx("option",{value:"superadmin",children:"Superadmin"})]}),e.jsx(n,{message:l.role,className:"mt-2"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r.is_active,onChange:a=>C(a.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:"Status Aktif"})]})}),e.jsx(n,{message:l.is_active,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[e.jsx(A,{onClick:o,disabled:f,children:"Batal"}),e.jsx(y,{disabled:f,children:t?"Simpan Data":"Buat User"})]})]})})]})}export{X as default};
