import{r as p,u as S,j as e,H as C}from"./app-CiO2VQnx.js";import{B as P,S as M}from"./BendaharaLayout-BmOFVfY5.js";import{P as E}from"./PageHeader-BHvmSiwz.js";import{M as D}from"./Modal-DNNIChmb.js";import{I as u}from"./InputLabel-BcUhDq7e.js";import{T as I}from"./TextInput-Co6_gCoM.js";import{I as h}from"./InputError-CssPRlhI.js";import{P as g}from"./PrimaryButton-DU1wUM7k.js";import{S as K}from"./SecondaryButton-ygnHJiWj.js";/* empty css            */import"./ApplicationLogo-DCX0GPCz.js";import"./transition-DgWT-zWI.js";import"./with-selector-Bmb2Ajv7.js";function Q({expenseTypes:l,currentOfficeId:f}){const[j,s]=p.useState(!1),[i,d]=p.useState(!1),t=f===2,{data:n,setData:r,post:y,put:b,delete:N,processing:c,errors:m,reset:o,clearErrors:x}=S({id:"",name:"",code:"",category:"out"}),v=()=>{d(!1),o(),r("category","out"),x(),s(!0)},w=a=>{d(!0),r({id:a.id,name:a.name,code:a.code||"",category:a.category||"out"}),x(),s(!0)},B=a=>{a.preventDefault(),i?b(route("projectexpense.expense-types.update",n.id),{onSuccess:()=>{s(!1),o()}}):y(route("projectexpense.expense-types.store"),{onSuccess:()=>{s(!1),o()}})},k=a=>{M.fire({title:"Hapus Tipe?",text:"Data tipe ini akan dihapus. Pastikan tidak sedang digunakan.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"}).then(T=>{T.isConfirmed&&N(route("projectexpense.expense-types.destroy",a))})};return e.jsxs(P,{children:[e.jsx(C,{title:t?"Kelola Tipe":"Kelola Tipe Biaya"}),e.jsx(E,{title:t?"Data Tipe":"Data Tipe Biaya",backLink:route("projectexpense.overview"),backLabel:"Dashboard",actions:e.jsx(g,{onClick:v,children:t?"+ Tambah Tipe":"+ Tambah Tipe Biaya"})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-xl border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"Nama Tipe":"Nama Tipe Biaya"}),t&&e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length>0?l.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.name}),t&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.category==="in"?e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Pemasukan"}):e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Pengeluaran"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{onClick:()=>w(a),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),e.jsx("button",{onClick:()=>k(a.id),className:"text-red-600 hover:text-red-900",children:"Hapus"})]})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:t?3:2,className:"px-6 py-12 text-center text-gray-500",children:"Belum ada data tipe."})})})]})})}),e.jsx(D,{show:j,onClose:()=>s(!1),children:e.jsxs("form",{onSubmit:B,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:i?t?"Edit Tipe":"Edit Tipe Biaya":t?"Tambah Tipe Baru":"Tambah Tipe Biaya Baru"}),t&&e.jsxs("div",{className:"mb-4",children:[e.jsx(u,{value:"Kategori Transaksi"}),e.jsxs("select",{className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:n.category,onChange:a=>r("category",a.target.value),children:[e.jsx("option",{value:"out",children:"Pengeluaran (Kas Keluar)"}),e.jsx("option",{value:"in",children:"Pemasukan (Kas Masuk)"})]}),e.jsx(h,{message:m.category,className:"mt-2"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx(u,{value:t?"Nama Tipe":"Nama Tipe Biaya"}),e.jsx(I,{value:n.name,onChange:a=>r("name",a.target.value),className:"mt-1 block w-full",placeholder:t?"Contoh: Material, BBM, Upah, Penjualan Scrap":"Contoh: Gaji, Listrik, Material Project",required:!0}),e.jsx(h,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(K,{onClick:()=>s(!1),children:"Batal"}),e.jsx(g,{disabled:c,children:c?"Menyimpan...":i?"Simpan Perubahan":"Simpan"})]})]})})]})}export{Q as default};
