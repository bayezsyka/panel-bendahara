@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
    /* Custom Scrollbar */
    .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: rgba(156, 163, 175, 0.3) transparent;
    }

    .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(156, 163, 175, 0.3);
        border-radius: 10px;
        transition: background 0.2s ease;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(99, 102, 241, 0.4);
    }

    /* Fade In Up Animation */
    @keyframes fade-in-up {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .fade-in-up {
        animation: fade-in-up 0.3s ease-out;
    }

    .animate-fade-in-up {
        animation: fade-in-up 0.5s ease-out;
    }

    /* Theme Transition Animations */
    @keyframes sun-set-diag {
        0% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
        100% { transform: translate(100vw, 100vh) scale(0.5); opacity: 0; }
    }

    @keyframes sun-rise-diag {
        0% { transform: translate(-150vw, 100vh) scale(0.5); opacity: 0; }
        100% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
    }

    @keyframes moon-rise-diag {
        0% { transform: translate(-150vw, 100vh) scale(0.5); opacity: 0; }
        100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    @keyframes moon-set-diag {
        0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        100% { transform: translate(100vw, 100vh) scale(0.5); opacity: 0; }
    }

    .animate-sun-set {
        animation: sun-set-diag 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .animate-sun-rise {
        animation: sun-rise-diag 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .animate-moon-rise {
        animation: moon-rise-diag 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .animate-moon-set {
        animation: moon-set-diag 1.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .animate-sunset {
        animation: sunset 2s ease-in-out forwards;
    }

    .animate-sunrise {
        animation: sunrise 2s ease-in-out forwards;
    }

    .animate-moon-rise {
        animation: moon-rise 2s ease-in-out forwards;
    }

    .animate-moon-set {
        animation: moon-set 2s ease-in-out forwards;
    }

    @keyframes twinkle {
        0%, 100% { opacity: 0.4; }
        50% { opacity: 1; }
    }

    .animate-twinkle {
        animation: twinkle 4s infinite ease-in-out;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: .5; }
    }

    .animate-pulse-slow {
        animation: pulse 6s infinite ease-in-out;
    }
}

/* ========================================================================
   GLOBAL DARK MODE OVERRIDES
   ========================================================================
   All overrides use !important to guarantee they win over Tailwind's 
   generated utility classes regardless of CSS cascade/specificity.
   ======================================================================== */

/* --- Prevent transition flash on initial load --- */
html.no-transition, html.no-transition * {
    transition: none !important;
}

/* === TEXT COLOR OVERRIDES === */
html.dark .text-gray-950 { color: #f5f5fa !important; }
html.dark .text-gray-900 { color: #ededf5 !important; }
html.dark .text-gray-800 { color: #e0e0ec !important; }
html.dark .text-gray-700 { color: #d0d0de !important; }
html.dark .text-gray-600 { color: #bcbcce !important; }
html.dark .text-gray-500 { color: #b8b8cc !important; }
html.dark .text-gray-400 { color: #9e9eb6 !important; }
html.dark .text-gray-300 { color: #a5a5c0 !important; }
html.dark .text-gray-200 { color: #d1d1e0 !important; }
html.dark .text-gray-100 { color: #e2e2f0 !important; }
html.dark .text-black { color: #ededf5 !important; }

/* Slate equivalents (Receivable pages) */
html.dark .text-slate-950 { color: #f5f5fa !important; }
html.dark .text-slate-900 { color: #ededf5 !important; }
html.dark .text-slate-800 { color: #e0e0ec !important; }
html.dark .text-slate-700 { color: #d0d0de !important; }
html.dark .text-slate-600 { color: #bcbcce !important; }
html.dark .text-slate-500 { color: #b8b8cc !important; }
html.dark .text-slate-400 { color: #9e9eb6 !important; }
html.dark .text-slate-300 { color: #a5a5c0 !important; }
html.dark .text-slate-200 { color: #d1d1e0 !important; }
html.dark .text-slate-100 { color: #e2e2f0 !important; }
html.dark .text-slate-50 { color: #f0f0f8 !important; }

/* === COLORED TEXT OVERRIDES === */
html.dark .text-blue-600 { color: #60a5fa !important; }
html.dark .text-indigo-600 { color: #818cf8 !important; }
html.dark .text-emerald-600 { color: #34d399 !important; }
html.dark .text-green-600 { color: #4ade80 !important; }
html.dark .text-red-600 { color: #f87171 !important; }
html.dark .text-amber-600 { color: #fbbf24 !important; }

/* === BACKGROUND COLOR OVERRIDES === */
html.dark .bg-white { background-color: #222238 !important; }
html.dark .bg-gray-50 { background-color: #1a1a2e !important; }
html.dark .bg-gray-100 { background-color: #1e1e34 !important; }
html.dark .bg-gray-200 { background-color: #2a2a40 !important; }
html.dark .bg-gray-300 { background-color: #35354d !important; }

/* Opacity modifier variants (bg-gray-50/50, bg-gray-50/80, etc.) */
html.dark [class*="bg-gray-50\/"] { background-color: rgba(26,26,46,0.5) !important; }
html.dark [class*="bg-gray-100\/"] { background-color: rgba(30,30,52,0.5) !important; }
html.dark [class*="bg-white\/"] { background-color: rgba(34,34,56,0.5) !important; }

/* Slate backgrounds */
html.dark .bg-slate-50 { background-color: #1a1a2e !important; }
html.dark .bg-slate-100 { background-color: #1e1e34 !important; }
html.dark [class*="bg-slate-50\/"] { background-color: rgba(26,26,46,0.5) !important; }

/* Colored opacity modifier backgrounds (bg-emerald-50/50, bg-red-50/30, etc.) */
html.dark [class*="bg-emerald-50\/"] { background-color: rgba(16, 185, 129, 0.08) !important; }
html.dark [class*="bg-red-50\/"] { background-color: rgba(239, 68, 68, 0.08) !important; }
html.dark [class*="bg-blue-50\/"] { background-color: rgba(59, 130, 246, 0.08) !important; }
html.dark [class*="bg-green-50\/"] { background-color: rgba(34, 197, 94, 0.08) !important; }
html.dark [class*="bg-indigo-50\/"] { background-color: rgba(99, 102, 241, 0.08) !important; }
html.dark [class*="bg-purple-50\/"] { background-color: rgba(168, 85, 247, 0.08) !important; }
html.dark [class*="bg-amber-50\/"] { background-color: rgba(245, 158, 11, 0.08) !important; }
html.dark [class*="bg-orange-50\/"] { background-color: rgba(249, 115, 22, 0.08) !important; }

/* Gradient "to-white" fix */
html.dark .to-white { --tw-gradient-to: #222238 !important; }
html.dark .from-red-50 { --tw-gradient-from: rgba(239, 68, 68, 0.08) !important; }
html.dark .from-purple-50 { --tw-gradient-from: rgba(168, 85, 247, 0.08) !important; }
html.dark .from-blue-50 { --tw-gradient-from: rgba(59, 130, 246, 0.08) !important; }
html.dark .from-green-50 { --tw-gradient-from: rgba(34, 197, 94, 0.08) !important; }
html.dark .from-indigo-50 { --tw-gradient-from: rgba(99, 102, 241, 0.08) !important; }

/* Colored light backgrounds (badges, icons, etc.) */
html.dark .bg-red-50 { background-color: rgba(239, 68, 68, 0.1) !important; }
html.dark .bg-red-100 { background-color: rgba(239, 68, 68, 0.15) !important; }
html.dark .bg-blue-50 { background-color: rgba(59, 130, 246, 0.1) !important; }
html.dark .bg-blue-100 { background-color: rgba(59, 130, 246, 0.15) !important; }
html.dark .bg-green-50 { background-color: rgba(34, 197, 94, 0.1) !important; }
html.dark .bg-green-100 { background-color: rgba(34, 197, 94, 0.15) !important; }
html.dark .bg-purple-50 { background-color: rgba(168, 85, 247, 0.1) !important; }
html.dark .bg-purple-100 { background-color: rgba(168, 85, 247, 0.15) !important; }
html.dark .bg-indigo-50 { background-color: rgba(99, 102, 241, 0.1) !important; }
html.dark .bg-indigo-100 { background-color: rgba(99, 102, 241, 0.15) !important; }
html.dark .bg-amber-50 { background-color: rgba(245, 158, 11, 0.1) !important; }
html.dark .bg-amber-100 { background-color: rgba(245, 158, 11, 0.15) !important; }
html.dark .bg-emerald-50 { background-color: rgba(16, 185, 129, 0.1) !important; }
html.dark .bg-emerald-100 { background-color: rgba(16, 185, 129, 0.15) !important; }
html.dark .bg-orange-50 { background-color: rgba(249, 115, 22, 0.1) !important; }
html.dark .bg-yellow-50 { background-color: rgba(234, 179, 8, 0.1) !important; }
html.dark .bg-pink-50 { background-color: rgba(236, 72, 153, 0.1) !important; }
html.dark .bg-rose-50 { background-color: rgba(244, 63, 94, 0.1) !important; }
html.dark .bg-teal-50 { background-color: rgba(20, 184, 166, 0.1) !important; }

/* === BORDER COLOR OVERRIDES === */
html.dark .border-gray-50 { border-color: rgba(255,255,255,0.04) !important; }
html.dark .border-gray-100 { border-color: rgba(255,255,255,0.06) !important; }
html.dark .border-gray-200 { border-color: rgba(255,255,255,0.08) !important; }
html.dark .border-gray-300 { border-color: rgba(255,255,255,0.12) !important; }
html.dark .border-gray-400 { border-color: rgba(255,255,255,0.18) !important; }
/* Colored border variants */
html.dark .border-blue-100 { border-color: rgba(59, 130, 246, 0.2) !important; }
html.dark .border-green-100 { border-color: rgba(34, 197, 94, 0.2) !important; }
html.dark .border-red-100 { border-color: rgba(239, 68, 68, 0.2) !important; }
html.dark .border-amber-100 { border-color: rgba(245, 158, 11, 0.2) !important; }
html.dark .border-purple-100 { border-color: rgba(168, 85, 247, 0.2) !important; }
html.dark .border-indigo-100 { border-color: rgba(99, 102, 241, 0.2) !important; }
html.dark .border-indigo-200 { border-color: rgba(99, 102, 241, 0.3) !important; }
html.dark .border-emerald-100 { border-color: rgba(16, 185, 129, 0.2) !important; }
/* Colored border opacity modifiers */
html.dark [class*="border-emerald-100\/"] { border-color: rgba(16, 185, 129, 0.15) !important; }
html.dark [class*="border-red-100\/"] { border-color: rgba(239, 68, 68, 0.15) !important; }
html.dark [class*="border-blue-100\/"] { border-color: rgba(59, 130, 246, 0.15) !important; }
html.dark [class*="border-green-100\/"] { border-color: rgba(34, 197, 94, 0.15) !important; }
/* Slate borders */
html.dark .border-slate-50 { border-color: rgba(255,255,255,0.04) !important; }
html.dark .border-slate-100 { border-color: rgba(255,255,255,0.06) !important; }
html.dark .border-slate-200 { border-color: rgba(255,255,255,0.08) !important; }
html.dark .border-slate-300 { border-color: rgba(255,255,255,0.12) !important; }

/* === DIVIDE COLOR OVERRIDES === */
html.dark .divide-gray-50 > :not([hidden]) ~ :not([hidden]) { border-color: rgba(255,255,255,0.04) !important; }
html.dark .divide-gray-100 > :not([hidden]) ~ :not([hidden]) { border-color: rgba(255,255,255,0.06) !important; }
html.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) { border-color: rgba(255,255,255,0.08) !important; }
html.dark .divide-gray-300 > :not([hidden]) ~ :not([hidden]) { border-color: rgba(255,255,255,0.12) !important; }
/* Slate divides */
html.dark .divide-slate-50 > :not([hidden]) ~ :not([hidden]) { border-color: rgba(255,255,255,0.04) !important; }
html.dark .divide-slate-100 > :not([hidden]) ~ :not([hidden]) { border-color: rgba(255,255,255,0.06) !important; }
html.dark .divide-slate-200 > :not([hidden]) ~ :not([hidden]) { border-color: rgba(255,255,255,0.08) !important; }

/* === RING COLOR OVERRIDES === */
html.dark .ring-black { --tw-ring-color: rgba(255,255,255,0.1) !important; }

/* === PLACEHOLDER OVERRIDES === */
html.dark .placeholder-gray-400::placeholder { color: #7e7e94 !important; }

/* === SHADOW OVERRIDES === */
html.dark .shadow-sm { box-shadow: 0 1px 3px 0 rgba(0,0,0,0.4), 0 1px 2px -1px rgba(0,0,0,0.4) !important; }
html.dark .shadow-md { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.4), 0 2px 4px -2px rgba(0,0,0,0.4) !important; }
html.dark .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0,0,0,0.5), 0 4px 6px -4px rgba(0,0,0,0.4) !important; }
html.dark .shadow-xl { box-shadow: 0 20px 25px -5px rgba(0,0,0,0.5), 0 8px 10px -6px rgba(0,0,0,0.4) !important; }

/* === HOVER STATE OVERRIDES === */
html.dark .hover\:bg-gray-50:hover { background-color: rgba(255,255,255,0.04) !important; }
html.dark .hover\:bg-gray-100:hover { background-color: rgba(255,255,255,0.06) !important; }
html.dark .hover\:bg-red-50:hover { background-color: rgba(239, 68, 68, 0.1) !important; }
html.dark .hover\:bg-indigo-50:hover { background-color: rgba(99, 102, 241, 0.08) !important; }
html.dark .hover\:border-gray-300:hover { border-color: rgba(255,255,255,0.15) !important; }
html.dark .hover\:border-gray-400:hover { border-color: rgba(255,255,255,0.2) !important; }
html.dark .hover\:border-indigo-100:hover { border-color: rgba(99,102,241,0.3) !important; }
/* Opacity modifier hover variants */
html.dark [class*="hover\:bg-gray-50\/"] { background-color: transparent !important; }
html.dark [class*="hover\:bg-gray-50\/"]:hover { background-color: rgba(255,255,255,0.04) !important; }
/* Slate hover */
html.dark .hover\:bg-slate-50:hover { background-color: rgba(255,255,255,0.04) !important; }

/* === FOCUS STATE OVERRIDES === */
html.dark .focus\:bg-gray-100:focus { background-color: rgba(255,255,255,0.06) !important; }

/* === FORM ELEMENT OVERRIDES === */
html.dark select,
html.dark textarea,
html.dark input[type="text"],
html.dark input[type="password"],
html.dark input[type="email"],
html.dark input[type="number"],
html.dark input[type="date"],
html.dark input[type="tel"],
html.dark input[type="url"],
html.dark input[type="search"] {
    background-color: #2a2a3d !important;
    border-color: rgba(255,255,255,0.1) !important;
    color: #e8e8f0 !important;
}
html.dark select option {
    background-color: #2a2a3d;
    color: #e8e8f0;
}
html.dark textarea::placeholder,
html.dark input::placeholder {
    color: #7e7e94 !important;
}

/* === RECHARTS / SVG CHART OVERRIDES === */
html.dark .recharts-text,
html.dark .recharts-cartesian-axis-tick-value {
    fill: #9494a8 !important;
}
html.dark .recharts-legend-item-text {
    color: #b0b0c2 !important;
}
html.dark .recharts-cartesian-grid line {
    stroke: rgba(255,255,255,0.06) !important;
}
html.dark .recharts-tooltip-wrapper .recharts-default-tooltip {
    background-color: #2a2a42 !important;
    border-color: rgba(255,255,255,0.1) !important;
    border-radius: 12px !important;
}
html.dark .recharts-tooltip-label {
    color: #e8e8f0 !important;
}
html.dark .recharts-tooltip-item {
    color: #c8c8d6 !important;
}
html.dark .recharts-label {
    fill: #9494a8 !important;
}

/* === SWEETALERT2 DARK MODE === */
html.dark .swal2-popup {
    background: #2a2a3d !important;
    color: #e2e2e8 !important;
}
html.dark .swal2-title {
    color: #e2e2e8 !important;
}
html.dark .swal2-html-container {
    color: #b0b0c0 !important;
}
html.dark .swal2-confirm {
    background: #6366f1 !important;
}
html.dark .swal2-cancel {
    background: #4b5563 !important;
}
html.dark .swal2-input,
html.dark .swal2-textarea {
    background: #222238 !important;
    border-color: rgba(255,255,255,0.1) !important;
    color: #e2e2e8 !important;
}

/* === SCROLLBAR DARK MODE === */
html.dark .custom-scrollbar {
    scrollbar-color: rgba(255,255,255,0.15) transparent;
}
html.dark .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.15);
}
html.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(99, 102, 241, 0.4);
}

/* === MISC OVERRIDES === */
html.dark .border-dashed { border-color: rgba(255,255,255,0.08) !important; }

/* Active/selected tab overrides - generic pattern */
html.dark .hover\:shadow-md:hover { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.4), 0 2px 4px -2px rgba(0,0,0,0.4) !important; }
